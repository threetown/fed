# React HooK

:::tip Hookç®€ä»‹
React çš„æ ¸å¿ƒæ˜¯ç»„ä»¶ã€‚v16.8 ç‰ˆæœ¬ä¹‹å‰ï¼Œç»„ä»¶çš„æ ‡å‡†å†™æ³•æ˜¯ç±»ï¼ˆclassï¼‰ã€‚

Hook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚
:::

## ç±»å’Œå‡½æ•°çš„å·®å¼‚

* **ç±»ï¼ˆclassï¼‰æ˜¯æ•°æ®å’Œé€»è¾‘çš„å°è£…ã€‚** ä¹Ÿå°±æ˜¯è¯´ï¼Œç»„ä»¶çš„çŠ¶æ€å’Œæ“ä½œæ–¹æ³•æ˜¯å°è£…åœ¨ä¸€èµ·çš„ã€‚å¦‚æœé€‰æ‹©äº†ç±»çš„å†™æ³•ï¼Œå°±åº”è¯¥æŠŠç›¸å…³çš„æ•°æ®å’Œæ“ä½œï¼Œéƒ½å†™åœ¨åŒä¸€ä¸ª class é‡Œé¢ã€‚
* **å‡½æ•°ä¸€èˆ¬æ¥è¯´ï¼Œåªåº”è¯¥åšä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªå€¼ã€‚** å¦‚æœä½ æœ‰å¤šä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåº”è¯¥å†™æˆä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ã€‚è€Œä¸”ï¼Œæ•°æ®çš„çŠ¶æ€åº”è¯¥ä¸æ“ä½œæ–¹æ³•åˆ†ç¦»ã€‚æ ¹æ®è¿™ç§ç†å¿µï¼ŒReact çš„å‡½æ•°ç»„ä»¶åªåº”è¯¥åšä¸€ä»¶äº‹æƒ…ï¼šè¿”å›ç»„ä»¶çš„ HTML ä»£ç ï¼Œè€Œæ²¡æœ‰å…¶ä»–çš„åŠŸèƒ½ã€‚



## å¸¸ç”¨é’©å­å‡½æ•°

ä¸‹é¢ä»‹ç» React é»˜è®¤æä¾›çš„å››ä¸ªæœ€å¸¸ç”¨çš„é’©å­ã€‚

:::tip React Hooks

- useState()ï¼šç”¨äºä¸ºå‡½æ•°ç»„ä»¶å¼•å…¥çŠ¶æ€ï¼ˆstateï¼‰ã€‚
- useContext()ï¼šåœ¨ç»„ä»¶ä¹‹é—´å…±äº«çŠ¶æ€ã€‚
- useReducer()
- useEffect()ï¼šæ¥å¼•å…¥å…·æœ‰å‰¯ä½œç”¨çš„æ“ä½œï¼Œæœ€å¸¸è§çš„å°±æ˜¯å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚

:::



```react {1,4-7}
import React, { useState, useEffect } from 'react';

function Example() {
  const [count, setCount] = useState(0);
  useEffect(() => {
    document.title = `You clicked ${count} times`;
  }, [count]); // ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°
  
  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
```

### State Hook

:::tip
 * useState å°±æ˜¯ä¸€ä¸ª Hookï¼ŒHook ä¸èƒ½åœ¨ class ç»„ä»¶ä¸­ä½¿ç”¨ã€‚
 * useState, é€šè¿‡åœ¨å‡½æ•°ç»„ä»¶é‡Œè°ƒç”¨å®ƒæ¥ç»™ç»„ä»¶æ·»åŠ ä¸€äº›å†…éƒ¨ state
 * useState ä¼šè¿”å›ä¸€å¯¹å€¼ï¼šå½“å‰çŠ¶æ€å’Œä¸€ä¸ªè®©ä½ æ›´æ–°å®ƒçš„å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­æˆ–å…¶ä»–ä¸€äº›åœ°æ–¹è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚
 * å®ƒç±»ä¼¼ class ç»„ä»¶çš„ this.setStateï¼Œä½†æ˜¯å®ƒä¸ä¼šæŠŠæ–°çš„ state å’Œæ—§çš„ state è¿›è¡Œåˆå¹¶ã€‚
 * const [count, setCount] = useState(0);
 * useState å”¯ä¸€çš„å‚æ•°å°±æ˜¯åˆå§‹ stateï¼ˆå¦‚ä¸Šé¢çš„è®¡æ•°å™¨æ˜¯ä»é›¶å¼€å§‹çš„ï¼‰ã€‚è¿™ä¸ªåˆå§‹ state å‚æ•°åªæœ‰åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ä¼šè¢«ç”¨åˆ°ã€‚
 * æ•°ç»„è§£æ„çš„è¯­æ³•è®©æˆ‘ä»¬åœ¨è°ƒç”¨ useState æ—¶å¯ä»¥ç»™ state å˜é‡å–ä¸åŒçš„åå­—ã€‚

:::



### Effect Hook

:::tip

 * ğŸ”´ useEffect å°±æ˜¯ä¸€ä¸ª Effect Hookï¼Œç»™å‡½æ•°ç»„ä»¶å¢åŠ äº†æ“ä½œå‰¯ä½œç”¨ï¼ˆæ•°æ®è·å–ã€è®¢é˜…æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹è¿‡ DOMï¼‰çš„èƒ½åŠ›ã€‚
 * å®ƒè·Ÿ class ç»„ä»¶ä¸­çš„ componentDidMountã€componentDidUpdate å’Œ componentWillUnmount å…·æœ‰ç›¸åŒçš„ç”¨é€”ï¼Œåªä¸è¿‡è¢«åˆå¹¶æˆäº†ä¸€ä¸ª APIã€‚
 * ğŸ‘ å¦‚æœæŸäº›ç‰¹å®šå€¼åœ¨ä¸¤æ¬¡é‡æ¸²æŸ“ä¹‹é—´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½ å¯ä»¥é€šçŸ¥ React è·³è¿‡å¯¹ effect çš„è°ƒç”¨ï¼Œåªè¦ä¼ é€’æ•°ç»„ä½œä¸º useEffect çš„ç¬¬äºŒä¸ªå¯é€‰å‚æ•°å³å¯

:::



## è‡ªå®šä¹‰Hook





***

## å‚è€ƒæ–‡çŒ®

https://zh-hans.reactjs.org/docs/hooks-intro.html