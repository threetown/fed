<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git提交规范 | 零基础学前端</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="learn fed">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.2d13298d.css" as="style"><link rel="preload" href="/assets/js/app.0a15208b.js" as="script"><link rel="preload" href="/assets/js/3.1a9699b9.js" as="script"><link rel="preload" href="/assets/js/18.5a2271a7.js" as="script"><link rel="prefetch" href="/assets/js/10.93902b8e.js"><link rel="prefetch" href="/assets/js/100.b1d7df1d.js"><link rel="prefetch" href="/assets/js/101.774f3587.js"><link rel="prefetch" href="/assets/js/102.ab1429e6.js"><link rel="prefetch" href="/assets/js/103.1380842b.js"><link rel="prefetch" href="/assets/js/104.2c445a62.js"><link rel="prefetch" href="/assets/js/105.55d36bdb.js"><link rel="prefetch" href="/assets/js/106.90146179.js"><link rel="prefetch" href="/assets/js/107.68a270bf.js"><link rel="prefetch" href="/assets/js/108.483767fe.js"><link rel="prefetch" href="/assets/js/109.cc916dce.js"><link rel="prefetch" href="/assets/js/11.e36136f7.js"><link rel="prefetch" href="/assets/js/110.7f1577b7.js"><link rel="prefetch" href="/assets/js/111.98147c99.js"><link rel="prefetch" href="/assets/js/112.ec1ebc18.js"><link rel="prefetch" href="/assets/js/113.121dd0c1.js"><link rel="prefetch" href="/assets/js/114.47c72628.js"><link rel="prefetch" href="/assets/js/115.d3bd3b3f.js"><link rel="prefetch" href="/assets/js/116.59911f4d.js"><link rel="prefetch" href="/assets/js/117.3615072e.js"><link rel="prefetch" href="/assets/js/118.81b33236.js"><link rel="prefetch" href="/assets/js/119.14c0bcdc.js"><link rel="prefetch" href="/assets/js/12.acf90667.js"><link rel="prefetch" href="/assets/js/120.e9ce28c2.js"><link rel="prefetch" href="/assets/js/121.faa569ec.js"><link rel="prefetch" href="/assets/js/122.56e1baf2.js"><link rel="prefetch" href="/assets/js/123.d8fcf331.js"><link rel="prefetch" href="/assets/js/124.9af97a21.js"><link rel="prefetch" href="/assets/js/125.2ec844e6.js"><link rel="prefetch" href="/assets/js/126.f5a27e20.js"><link rel="prefetch" href="/assets/js/127.1523ad1f.js"><link rel="prefetch" href="/assets/js/128.959e0cb2.js"><link rel="prefetch" href="/assets/js/129.c3afa873.js"><link rel="prefetch" href="/assets/js/13.a0cc0a36.js"><link rel="prefetch" href="/assets/js/130.f94d0650.js"><link rel="prefetch" href="/assets/js/131.c4546c33.js"><link rel="prefetch" href="/assets/js/132.a42ee650.js"><link rel="prefetch" href="/assets/js/133.43a9df61.js"><link rel="prefetch" href="/assets/js/134.eb00c648.js"><link rel="prefetch" href="/assets/js/135.def97609.js"><link rel="prefetch" href="/assets/js/136.bcf734d3.js"><link rel="prefetch" href="/assets/js/137.2022d32a.js"><link rel="prefetch" href="/assets/js/138.1005403a.js"><link rel="prefetch" href="/assets/js/139.4dcc9582.js"><link rel="prefetch" href="/assets/js/14.70f353f5.js"><link rel="prefetch" href="/assets/js/140.d3c8e60c.js"><link rel="prefetch" href="/assets/js/141.838dfc26.js"><link rel="prefetch" href="/assets/js/142.6f0978a8.js"><link rel="prefetch" href="/assets/js/143.a0523db7.js"><link rel="prefetch" href="/assets/js/144.51e4db65.js"><link rel="prefetch" href="/assets/js/145.248c914d.js"><link rel="prefetch" href="/assets/js/146.27d059ef.js"><link rel="prefetch" href="/assets/js/147.4fd147a1.js"><link rel="prefetch" href="/assets/js/148.392cd869.js"><link rel="prefetch" href="/assets/js/149.f97328a5.js"><link rel="prefetch" href="/assets/js/15.6807b5b5.js"><link rel="prefetch" href="/assets/js/150.c6bd7746.js"><link rel="prefetch" href="/assets/js/151.b7035f3a.js"><link rel="prefetch" href="/assets/js/152.33eee21f.js"><link rel="prefetch" href="/assets/js/153.d29c3cc3.js"><link rel="prefetch" href="/assets/js/154.38a3da58.js"><link rel="prefetch" href="/assets/js/155.4023b45b.js"><link rel="prefetch" href="/assets/js/156.38dccf7b.js"><link rel="prefetch" href="/assets/js/157.38199b9d.js"><link rel="prefetch" href="/assets/js/158.436ed442.js"><link rel="prefetch" href="/assets/js/159.fe412ff8.js"><link rel="prefetch" href="/assets/js/16.0323100d.js"><link rel="prefetch" href="/assets/js/160.eb4468b7.js"><link rel="prefetch" href="/assets/js/161.8758e21f.js"><link rel="prefetch" href="/assets/js/162.de20ddd0.js"><link rel="prefetch" href="/assets/js/163.6c231dcc.js"><link rel="prefetch" href="/assets/js/164.eeeb27a3.js"><link rel="prefetch" href="/assets/js/165.d4626122.js"><link rel="prefetch" href="/assets/js/166.c37e05b4.js"><link rel="prefetch" href="/assets/js/167.af8d5125.js"><link rel="prefetch" href="/assets/js/168.0123bca6.js"><link rel="prefetch" href="/assets/js/169.dcb27fe6.js"><link rel="prefetch" href="/assets/js/17.c1576e94.js"><link rel="prefetch" href="/assets/js/170.93b81585.js"><link rel="prefetch" href="/assets/js/171.3217839d.js"><link rel="prefetch" href="/assets/js/172.6e960fd3.js"><link rel="prefetch" href="/assets/js/173.6a769945.js"><link rel="prefetch" href="/assets/js/19.cf5a5d2e.js"><link rel="prefetch" href="/assets/js/2.c3e53dd5.js"><link rel="prefetch" href="/assets/js/20.84597afa.js"><link rel="prefetch" href="/assets/js/21.d3226c57.js"><link rel="prefetch" href="/assets/js/22.b1eafa65.js"><link rel="prefetch" href="/assets/js/23.b472d6d0.js"><link rel="prefetch" href="/assets/js/24.28103653.js"><link rel="prefetch" href="/assets/js/25.9a234cd5.js"><link rel="prefetch" href="/assets/js/26.87589ca9.js"><link rel="prefetch" href="/assets/js/27.0967113b.js"><link rel="prefetch" href="/assets/js/28.31f3f702.js"><link rel="prefetch" href="/assets/js/29.74529a51.js"><link rel="prefetch" href="/assets/js/30.e7349b17.js"><link rel="prefetch" href="/assets/js/31.733e35c5.js"><link rel="prefetch" href="/assets/js/32.b36e5b86.js"><link rel="prefetch" href="/assets/js/33.08d43715.js"><link rel="prefetch" href="/assets/js/34.c1fb5185.js"><link rel="prefetch" href="/assets/js/35.33bf39f9.js"><link rel="prefetch" href="/assets/js/36.e419a1c0.js"><link rel="prefetch" href="/assets/js/37.003c789c.js"><link rel="prefetch" href="/assets/js/38.fcc3b1d1.js"><link rel="prefetch" href="/assets/js/39.460d9813.js"><link rel="prefetch" href="/assets/js/4.073dcbaf.js"><link rel="prefetch" href="/assets/js/40.6272c91e.js"><link rel="prefetch" href="/assets/js/41.7548eb2a.js"><link rel="prefetch" href="/assets/js/42.d291a60e.js"><link rel="prefetch" href="/assets/js/43.2fc49262.js"><link rel="prefetch" href="/assets/js/44.d0f0cc91.js"><link rel="prefetch" href="/assets/js/45.0e639fa5.js"><link rel="prefetch" href="/assets/js/46.bcffc723.js"><link rel="prefetch" href="/assets/js/47.8b76bd42.js"><link rel="prefetch" href="/assets/js/48.a086fb36.js"><link rel="prefetch" href="/assets/js/49.2e5993ec.js"><link rel="prefetch" href="/assets/js/5.77ab1bee.js"><link rel="prefetch" href="/assets/js/50.f5380226.js"><link rel="prefetch" href="/assets/js/51.04a9006d.js"><link rel="prefetch" href="/assets/js/52.93ae97cb.js"><link rel="prefetch" href="/assets/js/53.288ff34a.js"><link rel="prefetch" href="/assets/js/54.afc1157f.js"><link rel="prefetch" href="/assets/js/55.8125b62d.js"><link rel="prefetch" href="/assets/js/56.4be2ebef.js"><link rel="prefetch" href="/assets/js/57.1048cf19.js"><link rel="prefetch" href="/assets/js/58.edb8d625.js"><link rel="prefetch" href="/assets/js/59.9b588b46.js"><link rel="prefetch" href="/assets/js/6.17809d55.js"><link rel="prefetch" href="/assets/js/60.bd10232f.js"><link rel="prefetch" href="/assets/js/61.1ee43883.js"><link rel="prefetch" href="/assets/js/62.d6502e47.js"><link rel="prefetch" href="/assets/js/63.f52d2d29.js"><link rel="prefetch" href="/assets/js/64.ce045a28.js"><link rel="prefetch" href="/assets/js/65.dbbe1cec.js"><link rel="prefetch" href="/assets/js/66.bfb6c12d.js"><link rel="prefetch" href="/assets/js/67.17dca53b.js"><link rel="prefetch" href="/assets/js/68.8a221ebd.js"><link rel="prefetch" href="/assets/js/69.beac962a.js"><link rel="prefetch" href="/assets/js/7.8cfd716a.js"><link rel="prefetch" href="/assets/js/70.8b48eed9.js"><link rel="prefetch" href="/assets/js/71.d5f6f35d.js"><link rel="prefetch" href="/assets/js/72.14c92216.js"><link rel="prefetch" href="/assets/js/73.c4a69c11.js"><link rel="prefetch" href="/assets/js/74.ed6e2fe0.js"><link rel="prefetch" href="/assets/js/75.ee30261f.js"><link rel="prefetch" href="/assets/js/76.e38507e4.js"><link rel="prefetch" href="/assets/js/77.d1f14b7c.js"><link rel="prefetch" href="/assets/js/78.85e21359.js"><link rel="prefetch" href="/assets/js/79.45ecf73b.js"><link rel="prefetch" href="/assets/js/8.2d436547.js"><link rel="prefetch" href="/assets/js/80.1dfc7a9c.js"><link rel="prefetch" href="/assets/js/81.cc70aa95.js"><link rel="prefetch" href="/assets/js/82.422940b9.js"><link rel="prefetch" href="/assets/js/83.e5fd22f1.js"><link rel="prefetch" href="/assets/js/84.c90f4b19.js"><link rel="prefetch" href="/assets/js/85.261d903a.js"><link rel="prefetch" href="/assets/js/86.e1247b3b.js"><link rel="prefetch" href="/assets/js/87.b3794b25.js"><link rel="prefetch" href="/assets/js/88.eb46a6b4.js"><link rel="prefetch" href="/assets/js/89.b9b2a5f1.js"><link rel="prefetch" href="/assets/js/9.dc9e2812.js"><link rel="prefetch" href="/assets/js/90.24214291.js"><link rel="prefetch" href="/assets/js/91.2df53d20.js"><link rel="prefetch" href="/assets/js/92.8ce36d00.js"><link rel="prefetch" href="/assets/js/93.074b4da6.js"><link rel="prefetch" href="/assets/js/94.a461198a.js"><link rel="prefetch" href="/assets/js/95.94ae2ad4.js"><link rel="prefetch" href="/assets/js/96.8b64e9d0.js"><link rel="prefetch" href="/assets/js/97.a78e12ca.js"><link rel="prefetch" href="/assets/js/98.1e663af0.js"><link rel="prefetch" href="/assets/js/99.842d550f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2d13298d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">零基础学前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍓前端开发" class="dropdown-title"><span class="title">🍓前端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="🍓前端开发" class="mobile-dropdown-title"><span class="title">🍓前端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          从入门到放弃
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/" class="nav-link">
  指南
</a></li><li class="dropdown-subitem"><a href="/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/JS/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          工具类
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Babel/" class="nav-link">
  Babel
</a></li><li class="dropdown-subitem"><a href="/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-subitem"><a href="/TypeScript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          其它
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link router-link-active">
  Git和GitHub
</a></li><li class="dropdown-subitem"><a href="/MarkDown/" class="nav-link">
  MarkDown文档
</a></li><li class="dropdown-subitem"><a href="/GIS/" class="nav-link">
  webgis
</a></li><li class="dropdown-subitem"><a href="/Flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-subitem"><a href="/test/" class="nav-link">
  测试
</a></li><li class="dropdown-subitem"><a href="/Axure/" class="nav-link">
  Axure
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍄大前端" class="dropdown-title"><span class="title">🍄大前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="🍄大前端" class="mobile-dropdown-title"><span class="title">🍄大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          VueJS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue@0.11/" class="nav-link">
  vue_0.11
</a></li><li class="dropdown-subitem"><a href="/vue@2.x/" class="nav-link">
  vue_2.x
</a></li><li class="dropdown-subitem"><a href="/Vue/" class="nav-link">
  vue
</a></li></ul></li><li class="dropdown-item"><h4>
          Vue CLI
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue-cli/" class="nav-link">
  vue_cli
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/DvaJS/" class="nav-link">
  DvaJS
</a></li><li class="dropdown-subitem"><a href="/UmiJS/" class="nav-link">
  UmiJS
</a></li></ul></li><li class="dropdown-item"><h4>
          NodeJS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></li></ul></li><li class="dropdown-item"><h4>
          架构师
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fearchitect/" class="nav-link">
  架构能力
</a></li><li class="dropdown-subitem"><a href="/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/HTTP/" class="nav-link">
  HTTP协议
</a></li><li class="dropdown-subitem"><a href="/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/performance/" class="nav-link">
  性能优化
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍓后端开发" class="dropdown-title"><span class="title">🍓后端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="🍓后端开发" class="mobile-dropdown-title"><span class="title">🍓后端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          LNMP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/LNMP/" class="nav-link">
  LNMP
</a></li><li class="dropdown-subitem"><a href="/SQL/" class="nav-link">
  SQL
</a></li></ul></li><li class="dropdown-item"><h4>
          操作系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/MacOS/" class="nav-link">
  MacOS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎯经理人" class="dropdown-title"><span class="title">🎯经理人</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎯经理人" class="mobile-dropdown-title"><span class="title">🎯经理人</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          职业经理人
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/manage/" class="nav-link">
  聊聊管理
</a></li><li class="dropdown-subitem"><a href="/manage/career/" class="nav-link">
  职业规划
</a></li><li class="dropdown-subitem"><a href="/manage/interview/" class="nav-link">
  面试指南
</a></li><li class="dropdown-subitem"><a href="/manage/ability/" class="nav-link">
  能力框架
</a></li></ul></li><li class="dropdown-item"><h4>
          HR六大模块
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/OKR/" class="nav-link">
  OKR
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档指南" class="dropdown-title"><span class="title">文档指南</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档指南" class="mobile-dropdown-title"><span class="title">文档指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computing/" class="nav-link">
  计算机与网络
</a></li><li class="dropdown-item"><!----> <a href="https://www.quanzhanketang.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  w3schools原版镜像
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3school.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  w3schools中文翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN Web Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍓前端开发" class="dropdown-title"><span class="title">🍓前端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="🍓前端开发" class="mobile-dropdown-title"><span class="title">🍓前端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          从入门到放弃
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/" class="nav-link">
  指南
</a></li><li class="dropdown-subitem"><a href="/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/JS/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          工具类
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Babel/" class="nav-link">
  Babel
</a></li><li class="dropdown-subitem"><a href="/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-subitem"><a href="/TypeScript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          其它
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link router-link-active">
  Git和GitHub
</a></li><li class="dropdown-subitem"><a href="/MarkDown/" class="nav-link">
  MarkDown文档
</a></li><li class="dropdown-subitem"><a href="/GIS/" class="nav-link">
  webgis
</a></li><li class="dropdown-subitem"><a href="/Flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-subitem"><a href="/test/" class="nav-link">
  测试
</a></li><li class="dropdown-subitem"><a href="/Axure/" class="nav-link">
  Axure
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍄大前端" class="dropdown-title"><span class="title">🍄大前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="🍄大前端" class="mobile-dropdown-title"><span class="title">🍄大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          VueJS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue@0.11/" class="nav-link">
  vue_0.11
</a></li><li class="dropdown-subitem"><a href="/vue@2.x/" class="nav-link">
  vue_2.x
</a></li><li class="dropdown-subitem"><a href="/Vue/" class="nav-link">
  vue
</a></li></ul></li><li class="dropdown-item"><h4>
          Vue CLI
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue-cli/" class="nav-link">
  vue_cli
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/DvaJS/" class="nav-link">
  DvaJS
</a></li><li class="dropdown-subitem"><a href="/UmiJS/" class="nav-link">
  UmiJS
</a></li></ul></li><li class="dropdown-item"><h4>
          NodeJS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/NodeJS/" class="nav-link">
  NodeJS
</a></li></ul></li><li class="dropdown-item"><h4>
          架构师
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fearchitect/" class="nav-link">
  架构能力
</a></li><li class="dropdown-subitem"><a href="/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/HTTP/" class="nav-link">
  HTTP协议
</a></li><li class="dropdown-subitem"><a href="/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/performance/" class="nav-link">
  性能优化
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍓后端开发" class="dropdown-title"><span class="title">🍓后端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="🍓后端开发" class="mobile-dropdown-title"><span class="title">🍓后端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          LNMP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/LNMP/" class="nav-link">
  LNMP
</a></li><li class="dropdown-subitem"><a href="/SQL/" class="nav-link">
  SQL
</a></li></ul></li><li class="dropdown-item"><h4>
          操作系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/MacOS/" class="nav-link">
  MacOS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎯经理人" class="dropdown-title"><span class="title">🎯经理人</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎯经理人" class="mobile-dropdown-title"><span class="title">🎯经理人</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          职业经理人
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/manage/" class="nav-link">
  聊聊管理
</a></li><li class="dropdown-subitem"><a href="/manage/career/" class="nav-link">
  职业规划
</a></li><li class="dropdown-subitem"><a href="/manage/interview/" class="nav-link">
  面试指南
</a></li><li class="dropdown-subitem"><a href="/manage/ability/" class="nav-link">
  能力框架
</a></li></ul></li><li class="dropdown-item"><h4>
          HR六大模块
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/OKR/" class="nav-link">
  OKR
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档指南" class="dropdown-title"><span class="title">文档指南</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档指南" class="mobile-dropdown-title"><span class="title">文档指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computing/" class="nav-link">
  计算机与网络
</a></li><li class="dropdown-item"><!----> <a href="https://www.quanzhanketang.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  w3schools原版镜像
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.w3school.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  w3schools中文翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN Web Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/" aria-current="page" class="sidebar-link">Git</a></li><li><a href="/git/internals.html" class="sidebar-link">git内部原理</a></li><li><a href="/git/git-cz.html" aria-current="page" class="active sidebar-link">git提交规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git/git-cz.html#一、为什么" class="sidebar-link">一、为什么？</a></li><li class="sidebar-sub-header"><a href="/git/git-cz.html#二、生成message" class="sidebar-link">二、生成message</a></li><li class="sidebar-sub-header"><a href="/git/git-cz.html#三、commit提交校验" class="sidebar-link">三、commit提交校验</a></li><li class="sidebar-sub-header"><a href="/git/git-cz.html#四、生成changelog" class="sidebar-link">四、生成changelog</a></li><li class="sidebar-sub-header"><a href="/git/git-cz.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/git/git-cz.html#知识拓展" class="sidebar-link">知识拓展</a></li></ul></li><li><a href="/git/git.html" class="sidebar-link">配置</a></li><li><a href="/git/survey.html" class="sidebar-link">/git/survey.html</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git提交规范"><a href="#git提交规范" class="header-anchor">#</a> git提交规范</h1> <p>本文将从以下三个维度剖析git提交规范，并拓展git原理</p> <blockquote><ul><li>使用工具生成message —— <code>commitizen</code></li> <li>代码提交时检查 —— <code>husky</code> （或  <code>yorkie</code> ）和 <code>lint-staged</code></li> <li>发布新版本时，自动生成changelog —— <code>conventional-changelog</code></li></ul></blockquote> <h2 id="一、为什么"><a href="#一、为什么" class="header-anchor">#</a> 一、为什么？</h2> <blockquote><p>在多人协作项目中，如果代码风格统一、代码提交信息的说明准确，那么在后期协作以及Bug处理时，会更加方便。</p></blockquote> <ol><li><p>制定规范后，可能会引起一些不适，诸如：</p> <ul><li>用户推送的提交遭到拒绝后无法避免的抱怨</li> <li>辛辛苦苦写成的代码在最后时刻惨遭拒绝是十分让人沮丧且具有迷惑性的</li></ul></li> <li><p>规范（时机、方案）</p> <ul><li><p><code>pre-commit</code>，从<strong>暂存区获取被修改文件</strong>列表：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>files_modified <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> diff-index --cached --name-only HEAD<span class="token variable">`</span></span>
</code></pre></div></li> <li><p>每次提交前，核查你的提交信息：<code>commit-msg</code> Hooks，脚本位于<code>.git/hooks/commit-msg</code></p></li></ul></li></ol> <h2 id="二、生成message"><a href="#二、生成message" class="header-anchor">#</a> 二、生成message</h2> <h3 id="_2-1-项目中commitizen"><a href="#_2-1-项目中commitizen" class="header-anchor">#</a> 2.1 项目中commitizen</h3> <p>在仓库中使用 <a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener noreferrer"><code>commitizen</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>命令行，在commit时系统会提示您填写任何必填字段，并且您的提交信息将根据项目维护者定义的标准进行格式化。</p> <ol><li><p>安装 <strong>commitizen</strong> 工具</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 在本地安装和运行 commitizen 可以确保开发人员在每台机器上运行完全相同版本的commitize</span>
<span class="token function">yarn</span> <span class="token function">add</span> commitizen -D
</code></pre></div></li> <li><p>初始化项目使用 <strong>cz-conventional-changelog</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>commitizen init cz-conventional-changelog --save-dev --save-exact
</code></pre></div><p>或使用 <code>yarn</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>commitizen init cz-conventional-changelog --yarn --dev --exact
</code></pre></div><p><strong>注意：</strong> 如果已经安装过 <code>cz-conventional-changelog</code>，可以使用 <code>--force</code> 参数！【<code>--exact</code>，表示确保不会安装任何滑动版本（带有**〜**或^）】</p> <p>上面的命令，为您做了两件事：</p> <ol><li><p>安装<code>commitizen</code>、 <code>cz-conventional-changelog</code> 的npm模块，并将其保存在 <code>dependencies</code> 或 <code>devDependencies</code>中</p></li> <li><p>将 <code>config.commitizen</code> 添加到 <strong>package.json</strong> 根目录中</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &quot;devDependencies&quot;: {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   &quot;commitizen&quot;: &quot;^4.2.4&quot;
</span><span class="token prefix inserted">+</span><span class="token line">   &quot;cz-conventional-changelog&quot;: &quot;3.3.0&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &quot;config&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">   &quot;commitizen&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">     &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;
</span><span class="token prefix inserted">+</span><span class="token line">   }
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span></code></pre></div></li></ol></li> <li><p>提交时只需要使用 <code>git cz</code> 或 <code>cz</code> 代替 <code>git commit</code>，作为npm脚本：</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &quot;scripts&quot;: {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   &quot;commit&quot;: &quot;git cz&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre></div></li></ol> <h3 id="_2-2-全局-commitizen"><a href="#_2-2-全局-commitizen" class="header-anchor">#</a> 2.2 全局 commitizen</h3> <p>我们也可以把 <code>commitizen</code> 作为全局程序。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g commitizen
</code></pre></div><p><code>commitizen</code>例如，全局安装您的首选适配器<a href="https://www.npmjs.com/package/cz-conventional-changelog" target="_blank" rel="noopener noreferrer"><code>cz-conventional-changelog</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g cz-conventional-changelog
</code></pre></div><p><code>.czrc</code>在您的<code>home</code>目录中创建一个文件，并<code>path</code>引用首选的、全局安装的<code>commitizen</code>适配器</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">'{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }'</span> <span class="token operator">&gt;</span> ~/.czrc
</code></pre></div><p>你都准备好了！现在<code>cd</code>进入任何<code>git</code>存储库并使用<code>git cz</code>代替，<code>git commit</code>您将找到<code>commitizen</code>提示。</p> <h3 id="_2-3-配置commitizen类型"><a href="#_2-3-配置commitizen类型" class="header-anchor">#</a> 2.3 配置commitizen类型</h3> <p>在源码 <a href="https://github.com/commitizen/cz-cli/blob/master/src/commitizen/configLoader.js" target="_blank" rel="noopener noreferrer"><code>cz-cli/src/commitizen/configLoader.js</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中发现，<strong>Commitizen</strong> 默认加载根目录下的配置文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Configuration sources in priority order.</span>
<span class="token keyword">var</span> configs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'.czrc'</span><span class="token punctuation">,</span> <span class="token string">'.cz.json'</span><span class="token punctuation">,</span> <span class="token string">'package.json'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="三、commit提交校验"><a href="#三、commit提交校验" class="header-anchor">#</a> 三、commit提交校验</h2> <p>我们已经可以通过工具格式化git commit信息了。但每次提交commit时，我们需要做一些校验【通过触发<strong>git hooks</strong>钩子】，我们有以下方案：</p> <ul><li><code>husky</code></li> <li><code>yorkie</code></li> <li><code>lint-staged</code>——检测暂存区的代码是否符合规范。</li></ul> <h3 id="_3-1-git-hooks"><a href="#_3-1-git-hooks" class="header-anchor">#</a> 3.1 git hooks</h3> <p>gitHooks是用来控制git的工作流程。我们期望在 commit时，能对我们的message进行校验或者做一些其它的事，可以通过 gitHooks来触发。更多见<a href="https://git-scm.com/book/zh/v2/ch00/ch10-git-internals" target="_blank" rel="noopener noreferrer">Git 内部原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_3-1-1-安装"><a href="#_3-1-1-安装" class="header-anchor">#</a> 3.1.1 安装</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> init
</code></pre></div><p>仓库 <code>git init</code> 初始化时，产生 <strong>.git</strong> 文件夹。</p> <h4 id="_3-1-2-git目录结构"><a href="#_3-1-2-git目录结构" class="header-anchor">#</a> 3.1.2 .git目录结构</h4> <p>下面是一个全新的<code>git init</code>版本库，你可以看到默认结构。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>.git
├── config                         <span class="token comment"># 包含项目特有的配置选项</span>
├── description                    <span class="token comment"># 仅供 GitWeb 程序使用，无需关心</span>
├── HEAD                           <span class="token comment"># 【重要】指向目前被检出的分支（如：ref: refs/heads/master）</span>
├── hooks/                         <span class="token comment"># 包含客户端或服务端的钩子脚本（hook scripts）</span>
│   ├── applypatch-msg.sample
│   ├── commit-msg.sample
│   ├── fsmonitor-watchman.sample
│   ├── post-update.sample
│   ├── pre-applypatch.sample
│   ├── pre-commit.sample
│   ├── pre-merge-commit.sample
│   ├── pre-push.sample
│   ├── pre-rebase.sample
│   ├── pre-receive.sample
│   ├── prepare-commit-msg.sample
│   ├── push-to-checkout.sample
│   └── update.sample
├── info/                         <span class="token comment"># 用来放置不希望被记录在 .gitignore文件的忽略模式</span>
│   └── exclude                   <span class="token comment"># 包含一个全局排除（global exclude）文件，</span>
├── objects/                      <span class="token comment"># 【重要】存储所有数据内容</span>
│   ├── info/
│   └── pack/
└── refs/                         <span class="token comment"># 【重要】存储指向数据（分支、远程仓库和标签等）的提交对象的指针</span>
    ├── heads/
    └── tags/
</code></pre></div><p>接下来，我们创建文件并将改动后的<strong>把文件添加到暂存区</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">touch</span> README.md
$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
</code></pre></div><p>相比之前，多了index</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> index
</span></span></code></pre></div><p>接着，把暂存区（stage）保存到本地，并生成一个HASH，保存在 <code>refs/heads/master</code>  中</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> commit -m <span class="token string">&quot;:tada: init project&quot;</span>
</code></pre></div><p>当我们切换分支时，<strong>HEAD</strong> 会指向当前分支，如：<code>ref: refs/heads/dev</code>，如果是新建分支，则在 <strong>refs/heads/<strong>下会生成一个该</strong>分支同名</strong>的文件</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> .git
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> ├── COMMIT_EDITMSG
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ├── config
</span><span class="token prefix unchanged"> </span><span class="token line"> ├── description
</span><span class="token prefix unchanged"> </span><span class="token line"> ├── HEAD
</span><span class="token prefix unchanged"> </span><span class="token line"> ├── hooks/
</span><span class="token prefix unchanged"> </span><span class="token line"> │   └── ...
</span><span class="token prefix unchanged"> </span><span class="token line"> ├── info/
</span><span class="token prefix unchanged"> </span><span class="token line"> │   └── exclude
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> ├── logs/
</span><span class="token prefix inserted">+</span><span class="token line"> │   ├── HEAD
</span><span class="token prefix inserted">+</span><span class="token line"> │   └── refs
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ├── objects/
</span><span class="token prefix unchanged"> </span><span class="token line"> │   ├── info/
</span><span class="token prefix unchanged"> </span><span class="token line"> │   └── pack/
</span><span class="token prefix unchanged"> </span><span class="token line"> └── refs/
</span><span class="token prefix unchanged"> </span><span class="token line">     ├── heads/
</span><span class="token prefix unchanged"> </span><span class="token line">     └── tags/
</span></span></code></pre></div><h4 id="_3-1-3-git工作流"><a href="#_3-1-3-git工作流" class="header-anchor">#</a> 3.1.3 git工作流</h4> <blockquote><p>工作区、暂存区（Index）、HEAD</p></blockquote> <p><img src="/assets/img/trees.a4d03258.png" alt="git workflow"></p> <h4 id="_3-1-4-hooks文件"><a href="#_3-1-4-hooks文件" class="header-anchor">#</a> 3.1.4 hooks文件</h4> <p>在 <code>.git/hooks</code> 目录生成一系列的hooks脚本，用来控制git工作的流程。</p> <blockquote><ul><li>hooks文件中的 <code>.sample</code> 结尾的<strong>示例脚本</strong>默认不会执行，只要把它正确命令（不带 <code>.sample</code> 放到 <code>.git/hooks</code> 中，才会激活该钩子脚本）</li> <li>git的hooks钩子脚本可以为分：客户端hooks和服务端hooks。需要重点了解<code>pre-commit</code>和<code>commit-msg</code></li></ul></blockquote> <p><img src="/assets/img/hooks.e3aa3e38.jpg" alt="git hooks"></p> <h4 id="_3-1-5-本地hooks"><a href="#_3-1-5-本地hooks" class="header-anchor">#</a> 3.1.5 本地hooks</h4> <ul><li><strong>缺陷</strong>：由于 <code>.git</code> 文件夹是不会被git跟踪的，所以 <code>.git/hooks</code> 目录下的hooks钩子无法提交，因为无法和他人共享hooks脚本。</li> <li><strong>解决方案</strong>：我们想共享hooks脚本，有两种解决方案：<code>husky</code>、<code>yorkie</code></li></ul> <h3 id="_3-2-husky"><a href="#_3-2-husky" class="header-anchor">#</a> 3.2 husky</h3> <div class="custom-block tip"><p class="custom-block-title">husky</p> <p><a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（发音：哈士奇🐶）,Modern native Git hooks made easy</p></div> <h4 id="_3-2-1-安装"><a href="#_3-2-1-安装" class="header-anchor">#</a> 3.2.1 安装</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> husky lint-staged -D
</code></pre></div><p><strong>package.json</strong>中配置：</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">{
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  &quot;husky&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">    &quot;hooks&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">      &quot;pre-commit&quot;: &quot;lint-staged&quot;
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span><span class="token prefix inserted">+</span><span class="token line">  },
</span><span class="token prefix inserted">+</span><span class="token line">  &quot;lint-staged&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">    &quot;*.js&quot;: &quot;eslint --fix&quot;
</span><span class="token prefix inserted">+</span><span class="token line">  }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">}
</span></span></code></pre></div><h3 id="_3-3-yorkie"><a href="#_3-3-yorkie" class="header-anchor">#</a> 3.3 yorkie</h3> <blockquote><p><a href="https://github.com/yyx990803/yorkie" target="_blank" rel="noopener noreferrer">yorkie<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，fork of <a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></blockquote> <h4 id="_3-3-1-安装"><a href="#_3-3-1-安装" class="header-anchor">#</a> 3.3.1 安装</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> yorkie --dev
</code></pre></div><h4 id="_3-3-2-配置"><a href="#_3-3-2-配置" class="header-anchor">#</a> 3.3.2 配置</h4> <p>在<strong>package.json</strong>中配置信息如下：(配合 <code>lint-staged</code> 使用)</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &quot;gitHooks&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">   &quot;pre-commit&quot;: &quot;lint-staged&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">   &quot;commit-msg&quot;: &quot;node scripts/verify-commit-msg.js&quot;
</span><span class="token prefix inserted">+</span><span class="token line"> },
</span><span class="token prefix inserted">+</span><span class="token line"> &quot;lint-staged&quot;: {
</span><span class="token prefix inserted">+</span><span class="token line">   &quot;*.js&quot;: [
</span><span class="token prefix inserted">+</span><span class="token line">     &quot;eslint --fix&quot;,
</span><span class="token prefix inserted">+</span><span class="token line">     &quot;git add&quot;
</span><span class="token prefix inserted">+</span><span class="token line">   ]
</span><span class="token prefix inserted">+</span><span class="token line"> },
</span></span></code></pre></div><h2 id="四、生成changelog"><a href="#四、生成changelog" class="header-anchor">#</a> 四、生成changelog</h2> <p><a href="https://github.com/conventional-changelog/conventional-changelog" target="_blank" rel="noopener noreferrer">conventional-changelog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，如果你的所有commit都符合 <a href="https://www.conventionalcommits.org/" target="_blank" rel="noopener noreferrer"><code>Angular commit规范</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，那么发布新版本时，就可以通过脚本自动生成changelog。</p> <h3 id="_4-1-changelog文档"><a href="#_4-1-changelog文档" class="header-anchor">#</a> 4.1 changelog文档</h3> <p><strong>生成的changelog文档包括以下几个部分：</strong></p> <ul><li><strong>Features</strong>（对应type: feat）</li> <li><strong>Bug Fixes</strong>（对应type: fix）</li> <li><strong>Code Refactoring</strong> (对应type: refactor且breaking changes为y)</li> <li><strong>Performance Improvements</strong>（对应type: perf）</li> <li><strong>Reverts</strong> (对应type: revert)</li> <li><strong>BREAKING CHANGES</strong> (显示body中为BREAKING CHANGES的内容)</li></ul> <p><em>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</em></p> <h3 id="_4-2-生成changelog"><a href="#_4-2-生成changelog" class="header-anchor">#</a> 4.2 生成changelog</h3> <p>使用下述命令可生成changelog：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>conventional-changelog -p angular -i CHANGELOG.md -s
</code></pre></div><p>上面命令不会覆盖以前的 Change log，只会在CHANGELOG.md的头部加上自从上次发布以来的变动。</p> <p>如果你想生成所有发布的 Change log，需要运行下面的命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>conventional-changelog -p angular -i CHANGELOG.md -s -r <span class="token number">0</span>
</code></pre></div><p>为了方便使用，可以将其写入<code>package.json</code>的<code>scripts</code>字段。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;changelog&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>以后，直接运行下面的命令即可。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run changelog
</code></pre></div><h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ul><li><a href="https://commitlint.js.org" target="_blank" rel="noopener noreferrer">commitlint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，是一个校验信息的工具，可以结合husky实现对 <code>commit-msg</code> 的检测。</li> <li><a href="">lint-staged</a>，只检测暂存区（staged）的文件</li> <li>项目总结：<a href="https://gitlab.com/ttflowerboys/git-hooks" target="_blank" rel="noopener noreferrer">git-hooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://itxiaohao.github.io/passages/git-commit/" target="_blank" rel="noopener noreferrer">Git 提交规范、发布及生成 CHANGELOG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.conventionalcommits.org/en/v1.0.0/#specification" target="_blank" rel="noopener noreferrer">Conventional Commits<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="知识拓展"><a href="#知识拓展" class="header-anchor">#</a> 知识拓展</h2> <ul><li><a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener noreferrer">Commit message 和 Change log 编写指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6976891381914533918" target="_blank" rel="noopener noreferrer">详解如何使得代码提交更规范（lint-staged、commitlint、commitizen、conventional-changelog-cli）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/15/2022, 2:45:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/git/internals.html" class="prev">
        git内部原理
      </a></span> <span class="next"><a href="/git/git.html">
        配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0a15208b.js" defer></script><script src="/assets/js/3.1a9699b9.js" defer></script><script src="/assets/js/18.5a2271a7.js" defer></script>
  </body>
</html>
