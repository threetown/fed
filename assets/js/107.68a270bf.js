(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{602:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue-2-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-2-x"}},[t._v("#")]),t._v(" vue@2.x")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("vue@2.x å’Œ vue@3.xåŒºåˆ«")]),t._v(" "),a("ul",[a("li",[t._v("vue@3.xæºç é‡‡ç”¨"),a("code",[t._v("monorepo")]),t._v("æ–¹å¼è¿›è¡Œç®¡ç†ï¼Œå°†æ¨¡å—æ‹†åˆ†åˆ°"),a("code",[t._v("package")]),t._v(" ç›®å½•ä¸­")]),t._v(" "),a("li",[t._v("vue@3.xé‡‡ç”¨"),a("code",[t._v("ts")]),t._v("å¼€å‘ï¼Œå¢å¼ºç±»å‹æ£€æµ‹ï¼›vue@2.xé‡‡ç”¨"),a("code",[t._v("flow")])]),t._v(" "),a("li",[t._v("vue@3.xæ€§èƒ½ä¼˜åŒ–ï¼Œæ”¯æŒ tree-shaking")]),t._v(" "),a("li",[t._v("vue@2.xåæœŸå¼•å…¥RFCï¼Œä½¿æ¯ä¸ªç‰ˆæœ¬æ”¹åŠ¨å¯æ§ rfcs")])])]),t._v(" "),a("h1",{attrs:{id:"vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue"}},[t._v("#")]),t._v(" Vue")]),t._v(" "),a("ul",[a("li",[t._v("å¼€å‘æ’ä»¶å¦‚ï¼švue-routerã€vuexç­‰")])]),t._v(" "),a("p",[t._v("ğŸ’¥ "),a("a",{attrs:{href:"https://www.yuque.com/guoba7/xh8mvb/cdgggn",target:"_blank",rel:"noopener noreferrer"}},[t._v("vueå†…éƒ¨è¿è¡Œæœºåˆ¶"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://jungahuang.com/2018/02/07/about-responsive-of-vue/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ·±å…¥ç†è§£Vueå“åº”å¼åŸç†"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"vueåŒå‘æ•°æ®ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vueåŒå‘æ•°æ®ç»‘å®š"}},[t._v("#")]),t._v(" VueåŒå‘æ•°æ®ç»‘å®š")]),t._v(" "),a("ul",[a("li",[t._v("è®¾è®¡æ¨¡å¼ï¼šå‘å¸ƒ-è®¢é˜…æ¨¡å¼")]),t._v(" "),a("li",[t._v("Obsever")]),t._v(" "),a("li",[t._v("Wacth")]),t._v(" "),a("li",[t._v("Dep")]),t._v(" "),a("li",[t._v("Compile(æ¨¡æ¿ç¼–è¯‘)ï¼š\n"),a("ul",[a("li",[t._v("document.createDocumentFragment()ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºç™½çš„æ–‡æ¡£ç‰‡æ®µï¼Œå› ä¸ºæ–‡æ¡£ç‰‡æ®µå­˜åœ¨äº"),a("strong",[t._v("å†…å­˜ä¸­")]),t._v("ï¼Œå¹¶ä¸åœ¨DOMæ ‘ä¸­ï¼Œæ‰€ä»¥å°†å­å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ç‰‡æ®µæ—¶ä¸ä¼šå¼•èµ·é¡µé¢"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Reflow",target:"_blank",rel:"noopener noreferrer"}},[t._v("å›æµ"),a("OutboundLink")],1),t._v("ï¼ˆå¯¹å…ƒç´ ä½ç½®å’Œå‡ ä½•ä¸Šçš„è®¡ç®—ï¼‰ã€‚å› æ­¤ï¼Œä½¿ç”¨æ–‡æ¡£ç‰‡æ®µé€šå¸¸ä¼šå¸¦æ¥æ›´å¥½çš„æ€§èƒ½ã€‚")])])])]),t._v(" "),a("h2",{attrs:{id:"vueæºç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vueæºç "}},[t._v("#")]),t._v(" Vueæºç ")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rollup")])]),t._v(" "),a("li",[a("code",[t._v("flow")])])]),t._v(" "),a("h2",{attrs:{id:"mixins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mixins"}},[t._v("#")]),t._v(" Mixins")]),t._v(" "),a("p",[t._v("æ··å…¥ ("),a("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/mixins.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("mixin"),a("OutboundLink")],1),t._v(") æä¾›äº†ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ Vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚")]),t._v(" "),a("h2",{attrs:{id:"plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" Plugins")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("å¼€å§‹æ¥è§¦æ’ä»¶æ¦‚å¿µä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ï¼Œåœ¨vueå¼€å‘ä¸­ä½¿ç”¨è¿‡UIç»„ä»¶åº“ï¼Œå¦‚ï¼š"),a("code",[t._v("ant-design-vue")]),t._v(" ã€"),a("code",[t._v("element-ui")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ElementUI "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'element-ui'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'element-ui/lib/theme-chalk/index.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ElementUI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("äº¦æˆ–ï¼Œä½¿ç”¨è¿‡ "),a("code",[t._v("vue-router")]),t._v(" ç®¡ç†è·¯ç”±æˆ– "),a("code",[t._v("Vuex")]),t._v(" çŠ¶æ€ç®¡ç†ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" VueRouter "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-router'")]),t._v("\n\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VueRouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ç»†å¿ƒçš„ä½ ï¼Œä¸€å®šå‘ç°äº†å®ƒä»¬ä¹‹åæœ‰ä¸€ä¸ªå…±æ€§ï¼Œé‚£å°±æ˜¯å¿…é¡»è¦é€šè¿‡ "),a("code",[t._v("Vue.use()")]),t._v(" æ˜ç¡®åœ°å®‰è£…è¯¥åŠŸèƒ½ã€‚")])]),t._v(" "),a("p",[t._v("æ’ä»¶é€šå¸¸ç”¨æ¥ä¸º "),a("strong",[t._v("Vue")]),t._v(" æ·»åŠ å…¨å±€åŠŸèƒ½ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ’ä»¶")]),t._v(" "),a("p",[t._v("æ’ä»¶çš„åŠŸèƒ½èŒƒå›´æ²¡æœ‰ä¸¥æ ¼çš„é™åˆ¶â€”â€”ä¸€èˆ¬æœ‰ä¸‹é¢å‡ ç§ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("æ·»åŠ å…¨å±€æ–¹æ³•æˆ–è€… propertyã€‚å¦‚ï¼š"),a("a",{attrs:{href:"https://github.com/karol-f/vue-custom-element",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-custom-element"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ã€‚å¦‚ "),a("a",{attrs:{href:"https://github.com/vuejs/vue-touch",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-touch"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("é€šè¿‡å…¨å±€æ··å…¥æ¥æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ã€‚å¦‚ "),a("a",{attrs:{href:"https://github.com/vuejs/vue-router",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-router"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("æ·»åŠ  Vue å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° "),a("code",[t._v("Vue.prototype")]),t._v(" ä¸Šå®ç°ã€‚")]),t._v(" "),a("li",[t._v("ä¸€ä¸ªåº“ï¼Œæä¾›è‡ªå·±çš„ APIï¼ŒåŒæ—¶æä¾›ä¸Šé¢æåˆ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ã€‚å¦‚ "),a("a",{attrs:{href:"https://github.com/vuejs/vue-router",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-router"),a("OutboundLink")],1)])])]),t._v(" "),a("p",[t._v("åœ¨æ·±å…¥å‰–ævueæ’ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ï¼Œæ’ä»¶çš„ä½¿ç”¨å’Œå¼€å‘å§ï¼")]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨æ’ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ’ä»¶"}},[t._v("#")]),t._v(" ä½¿ç”¨æ’ä»¶")]),t._v(" "),a("p",[t._v("é€šè¿‡å…¨å±€æ–¹æ³• "),a("code",[t._v("Vue.use()")]),t._v(" ä½¿ç”¨æ’ä»¶ã€‚å®ƒéœ€è¦åœ¨ä½ è°ƒç”¨ "),a("code",[t._v("new Vue()")]),t._v(" å¯åŠ¨åº”ç”¨ä¹‹å‰å®Œæˆï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨ `MyPlugin.install(Vue)`")]),t._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...ç»„ä»¶é€‰é¡¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" someOption"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("Vue.use")]),t._v(" ä¼šè‡ªåŠ¨é˜»æ­¢å¤šæ¬¡æ³¨å†Œç›¸åŒæ’ä»¶ï¼Œå±Šæ—¶å³ä½¿å¤šæ¬¡è°ƒç”¨ä¹Ÿåªä¼šæ³¨å†Œä¸€æ¬¡è¯¥æ’ä»¶ã€‚")]),t._v(" "),a("p",[t._v("Vue.js å®˜æ–¹æä¾›çš„ä¸€äº›æ’ä»¶ (ä¾‹å¦‚ "),a("code",[t._v("vue-router")]),t._v(") åœ¨æ£€æµ‹åˆ° "),a("code",[t._v("Vue")]),t._v(" æ˜¯å¯è®¿é—®çš„å…¨å±€å˜é‡æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ "),a("code",[t._v("Vue.use()")]),t._v("ã€‚ç„¶è€Œåœ¨åƒ "),a("code",[t._v("CommonJS")]),t._v(" è¿™æ ·çš„æ¨¡å—ç¯å¢ƒä¸­ï¼Œä½ åº”è¯¥å§‹ç»ˆæ˜¾å¼åœ°è°ƒç”¨ "),a("code",[t._v("Vue.use()")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨ Browserify æˆ– webpack æä¾›çš„ CommonJS æ¨¡å—ç¯å¢ƒæ—¶")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" VueRouter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-router'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸è¦å¿˜äº†è°ƒç”¨æ­¤æ–¹æ³•")]),t._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VueRouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"å¼€å‘æ’ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘æ’ä»¶"}},[t._v("#")]),t._v(" å¼€å‘æ’ä»¶")]),t._v(" "),a("p",[t._v("Vue.js çš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ª "),a("code",[t._v("install")]),t._v(" æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ "),a("code",[t._v("Vue")]),t._v(" æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("MyPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property")]),t._v("\n  Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myGlobalMethod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€»è¾‘...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. æ·»åŠ å…¨å±€èµ„æº")]),t._v("\n  Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("directive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-directive'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vnode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVnode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€»è¾‘...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹")]),t._v("\n  Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mixin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("created")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€»è¾‘...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. æ·»åŠ å®ä¾‹æ–¹æ³•")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$myMethod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("methodOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€»è¾‘...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"å¼€å‘æ“ä½œ-æŒ‰é’®-æƒé™æ’ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘æ“ä½œ-æŒ‰é’®-æƒé™æ’ä»¶"}},[t._v("#")]),t._v(" å¼€å‘æ“ä½œ(æŒ‰é’®)æƒé™æ’ä»¶")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("éœ€æ±‚åˆ†æ")]),t._v(" "),a("p",[t._v("åœ¨å®é™…çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œåº”è¯¥åŒ…å«ä½†ä¸é™äºï¼šå¢ï¼ˆ"),a("code",[t._v("add")]),t._v("ï¼‰ã€åˆ ï¼ˆ"),a("code",[t._v("delete")]),t._v("ï¼‰ã€æ”¹ï¼ˆ"),a("code",[t._v("edit")]),t._v("ï¼‰ã€æŸ¥ï¼ˆ"),a("code",[t._v("list")]),t._v("ï¼Œä¸€èˆ¬ç”±èœå•æƒé™æ§åˆ¶ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æœŸæœ›èƒ½æ ¹æ®ç”¨æˆ·çš„è§’è‰²ï¼Œèµ‹äºˆä¸åŒç”¨æˆ·ä¸åŒçš„æ“ä½œæƒé™ï¼Œæ€ä¹ˆå®ç°è¿™ä¸€éœ€æ±‚å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ğŸ¤” åªæœ‰å½“è¯¥ç”¨æˆ·æœ‰æŸäº›æ“ä½œæƒé™æ—¶ï¼Œæ‰æ˜¾ç¤ºç›¸åº”çš„æ“ä½œæŒ‰é’®ã€‚å¦‚æ­¤ï¼Œå¯¹äºæ²¡æœ‰æƒé™çš„ç”¨æˆ·ï¼Œæ˜¯"),a("strong",[t._v("å®Œå…¨æ— æ„ŸçŸ¥")]),t._v("çš„ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æƒé™")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæŠŠç”¨æˆ·æƒé™åˆ†ä¸ºä¸¤å¤§ç±»ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("èœå•æƒé™ï¼šé€šè¿‡addRouteræ¥ç»„è£…ç”¨æˆ·èœå•æƒé™")]),t._v(" "),a("li",[t._v("æŒ‰é’®æƒé™ï¼šé€šè¿‡æŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®æ˜¾ç¤ºä¸å¦")])])]),t._v(" "),a("p",[t._v("æœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬åªè®¨è®ºæ“ä½œï¼ˆæŒ‰é’®ï¼‰æƒé™ ğŸ‰ğŸ‰ğŸ‰")]),t._v(" "),a("ul",[a("li",[t._v("è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡å®šï¼ˆç”¨äºæ‰©å±•å…ƒç´ å±æ€§ï¼‰ï¼Œå¦‚ï¼š"),a("code",[t._v("src/directive/permission/hasPermi.js")])])]),t._v(" "),a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * æ“ä½œæƒé™å¤„ç†\n * vuexä¸­è·å– permissions: []\n * è‡ªå®šä¹‰æŒ‡ä»¤ï¼šhttps://cn.vuejs.org/v2/guide/custom-directive.html#é’©å­å‡½æ•°å‚æ•°\n */")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/store'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inserted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" binding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vnode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" binding\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" all_permission "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*:*:*"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getters "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getters"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissions\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" permissionFlag "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value\n\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasPermissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("some")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" all_permission "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" permission "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" permissionFlag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("permission"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("hasPermissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("è¯·è®¾ç½®æ“ä½œæƒé™æ ‡ç­¾å€¼")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("ç»Ÿä¸€ç®¡ç†æŒ‡ä»¤ï¼ˆdirectiveï¼‰ï¼Œå¦‚ï¼š"),a("code",[t._v("src/directive/permission/index.js")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" hasPermi "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./hasPermi'")]),t._v("\n\n# æ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šè¢«ä½œä¸º install æ–¹æ³•ã€‚install æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šå°† Vue ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("directive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hasPermi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hasPermi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hasPermi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hasPermi\n  Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint-disable-line")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" install\n")])])]),a("ul",[a("li",[t._v("ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¹ æƒ¯åœ¨ä¸»å…¥å£æ–‡ä»¶ä¸­å¼•ç”¨å®ƒï¼Œå¦‚ï¼š"),a("code",[t._v("src/main.js")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" permission "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./directive/permission'")]),t._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("permission"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);