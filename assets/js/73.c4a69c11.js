(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{558:function(t,s,n){"use strict";n.r(s);var a=n(44),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"js面试题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js面试题"}},[t._v("#")]),t._v(" JS面试题")]),t._v(" "),n("h2",{attrs:{id:"_1-onclick和addeventlistener绑定单击事件的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-onclick和addeventlistener绑定单击事件的区别"}},[t._v("#")]),t._v(" 1. onclick和addEventListener绑定单击事件的区别")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("onclick")]),t._v(" 可以写在标签上，"),n("code",[t._v("addEventListener")]),t._v(" 只能在js代码中")]),t._v(" "),n("li",[n("code",[t._v("onclick")]),t._v(" 只能绑定点击事件，"),n("code",[t._v("addEventListener")]),t._v(" 可以绑定多种事件（有点类型于"),n("code",[t._v("$(selector).on(<event>, callback)")]),t._v("）")]),t._v(" "),n("li",[n("code",[t._v("onclick")]),t._v("后面的事件会覆盖前面的事件，"),n("code",[t._v("addEventListener")]),t._v("则不会")]),t._v(" "),n("li",[n("code",[t._v("addEventListener")]),t._v("可以精确控制事件触发的阶段，通过第三个参数控制【默认为"),n("code",[t._v("false")]),t._v("，也就是 "),n("strong",[t._v("冒泡阶段")]),t._v("；如果为 "),n("code",[t._v("true")]),t._v(" 时，则在"),n("strong",[t._v("捕获阶段")]),t._v("触发事件】")]),t._v(" "),n("li",[n("code",[t._v("onclick")]),t._v("只对html元素起作用，"),n("code",[t._v("addEventListener")]),t._v(" 对任何DOM元素都有用")])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("兼容")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addEventListener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" modifyText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onclick'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" modifyText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("h2",{attrs:{id:"_2-dom事件流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-dom事件流"}},[t._v("#")]),t._v(" 2.DOM事件流")]),t._v(" "),n("p",[t._v("W3C规范中定义了3个事件阶段，依次是"),n("strong",[t._v("捕获阶段")]),t._v("、"),n("strong",[t._v("目标阶段")]),t._v("、"),n("strong",[t._v("冒泡阶段")]),t._v("。")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("捕获阶段")]),t._v("：在"),n("strong",[t._v("事件对象到达事件目标之前")]),t._v("，事件对象必须"),n("strong",[t._v("从window经过目标的祖先节点传播到事件目标")]),t._v("。 这个阶段被我们称之为捕获阶段。在这个阶段注册的事件监听器在事件到达其目标前必须先处理事件。")]),t._v(" "),n("li",[n("strong",[t._v("目标阶段")]),t._v("：事件对象到达其事件目标。 这个阶段被我们称为目标阶段。一旦事件对象到达事件目标，该阶段的事件监听器就要对它进行处理。如果一个事件对象类型被标志为不能冒泡。那么对应的事件对象在到达此阶段时就会终止传播。")]),t._v(" "),n("li",[n("strong",[t._v("冒泡阶段")]),t._v("：事件对象以一个与捕获阶段相反的方向"),n("strong",[t._v("从事件目标传播经过其祖先节点传播到window")]),t._v("。这个阶段被称之为冒泡阶段。在此阶段注册的事件监听器会对相应的冒泡事件进行处理。")])]),t._v(" "),n("h2",{attrs:{id:"_3-手写-ajax请求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-手写-ajax请求"}},[t._v("#")]),t._v(" 3. 手写 Ajax请求")]),t._v(" "),n("ul",[n("li",[t._v("XMLHttpRequest")])]),t._v(" "),n("h2",{attrs:{id:"_4-三次握手、四次挥手"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-三次握手、四次挥手"}},[t._v("#")]),t._v(" 4. 三次握手、四次挥手")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("三次握手：")]),t._v(" "),n("ol",[n("li",[t._v("客户端 向 服务器发送请求：SYN,synchronize，客户端有发送能力")]),t._v(" "),n("li",[t._v("服务器向客户端发送请求：ACK,acknowledeg 和 SYN，服务器有接收能力和发送能力")]),t._v(" "),n("li",[t._v("客户端向服务器返回ACK：客户端有接收能力")])])]),t._v(" "),n("li",[n("p",[t._v("四次挥手")]),t._v(" "),n("ol",[n("li",[t._v("客户端 向 服务器发送请求：FIN，我要断开连接")]),t._v(" "),n("li",[t._v("服务器 向 客户端发送请求：ACK，好的我有空了就断开连接")]),t._v(" "),n("li",[t._v("服务器向客户端发送请求：FIN，现在断开连接")]),t._v(" "),n("li",[t._v("客户端向服务器发送请求： 我断开连接")])])])]),t._v(" "),n("h2",{attrs:{id:"_5-浏览器缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-浏览器缓存"}},[t._v("#")]),t._v(" 5. 浏览器缓存")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("强缓存")]),t._v("（304）\n"),n("ul",[n("li",[t._v("Expires，响应头，代表该资源的过期时间（HTTP/1.0）。如："),n("code",[t._v("expires: Wed, 16 Jun 2021 06:51:47 GMT")])]),t._v(" "),n("li",[t._v("Cache-Control，请求/响应头，缓存控制字段，精确控制缓存策略（HTTP/1.1）。如："),n("code",[t._v("cache-control: max-age=600")])])])]),t._v(" "),n("li",[n("strong",[t._v("协商缓存")]),t._v("：强缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用缓存的过程。"),n("strong",[t._v("返回200和请求结果")]),t._v("。如："),n("code",[t._v("Status Code: 200 (from disk cache)")])]),t._v(" "),n("li",[n("ul",[n("li",[t._v("Last-Modified【响应头，资源最近修改时间，由服务器告诉浏览器。如："),n("code",[t._v("last-modified: Tue, 15 Jun 2021 15:21:08 GMT")]),t._v("】 和 If-Modified-Since【请求头，资源最近修改时间，由浏览器告诉服务器】（HTTP/1.0）")]),t._v(" "),n("li",[t._v("ETag 和 If-None-Match（HTTP/1.1）")])])]),t._v(" "),n("li",[t._v("刷新对于强缓存和协商缓存的影响\n"),n("ol",[n("li",[n("p",[t._v("当"),n("code",[t._v("ctrl+f5")]),t._v("强制刷新网页时，直接从服务器加载，"),n("strong",[t._v("跳过强缓存和协商缓存")]),t._v("。")])]),t._v(" "),n("li",[n("p",[t._v("当"),n("code",[t._v("f5")]),t._v("刷新网页时，"),n("strong",[t._v("跳过强缓存")]),t._v("，但是会检查协商缓存。")])]),t._v(" "),n("li",[n("p",[t._v("浏览器地址栏中写入URL，回车 浏览器发现缓存中有这个文件了，不用继续请求了，直接去缓存拿。")])])])])]),t._v(" "),n("h2",{attrs:{id:"_6-节流、防抖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-节流、防抖"}},[t._v("#")]),t._v(" 6. 节流、防抖")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("防抖：在事件被触发n秒后再执行回调，如果在这n秒内又被触发，则重新计时。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 思路： 每次触发事件时都取消之前的延时调用方法\n **/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debounce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 维护一个 timer")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _this "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取debounce执行作用域的this")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" args "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用apply指向调用debounce的对象，相当于_this.fn(args);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试用例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// test")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testDebounce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" testDebounceFn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debounce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testDebounce"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 防抖函数")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmousemove")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testDebounceFn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'debounce'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给防抖函数传参")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("节流：高频事件触发，但在n秒内只会执行一次，所以节流会稀释函数的执行频率")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 思路：每次触发事件时都判断当前是否有等待执行的延时函数\n **/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("throttle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _this "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" args "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在delay后执行完fn之后清空timer，此时timer为假，throttle触发可以进入计时器")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" delay"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试用例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testThrottle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" testThrottleFn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("throttle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testThrottle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 节流函数")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmousemove")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testThrottleFn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'throttle'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给节流函数传参")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("相同点")]),t._v("：")]),t._v(" "),n("ul",[n("li",[t._v("都可以通过使用 "),n("code",[t._v("setTimeout")]),t._v(" 实现。")]),t._v(" "),n("li",[t._v("目的都是，降低回调执行频率。节省计算资源。")])]),t._v(" "),n("p",[n("strong",[t._v("不同点")]),t._v("：")]),t._v(" "),n("ul",[n("li",[t._v("函数防抖，在一段连续操作结束后，处理回调，"),n("strong",[t._v("利用clearTimeout 和 setTimeout实现")]),t._v("。")]),t._v(" "),n("li",[t._v("函数节流，在一段连续操作中，"),n("strong",[t._v("每一段时间只执行一次")]),t._v("，频率较高的事件中使用来提高性能。")]),t._v(" "),n("li",[t._v("函数防抖关注"),n("strong",[t._v("一定时间连续触发的事件只在最后执行一次")]),t._v("，而函数节流侧重于"),n("strong",[t._v("一段时间内只执行一次")]),t._v("。")])])])]),t._v(" "),n("h3",{attrs:{id:"函数防抖的应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数防抖的应用场景"}},[t._v("#")]),t._v(" 函数防抖的应用场景")]),t._v(" "),n("p",[t._v("连续的事件，只需触发一次回调的场景有：")]),t._v(" "),n("ul",[n("li",[t._v("搜索框搜索输入。只需用户最后一次输入完，再发送请求")]),t._v(" "),n("li",[t._v("手机号、邮箱验证输入检测")]),t._v(" "),n("li",[t._v("窗口大小Resize。只需窗口调整完成后，计算窗口大小。防止重复渲染。")])]),t._v(" "),n("h3",{attrs:{id:"函数节流的应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数节流的应用场景"}},[t._v("#")]),t._v(" 函数节流的应用场景")]),t._v(" "),n("p",[t._v("间隔一段时间执行一次回调的场景有：")]),t._v(" "),n("ul",[n("li",[t._v("滚动加载，加载更多或滚到底部监听")]),t._v(" "),n("li",[t._v("谷歌搜索框，搜索联想功能")]),t._v(" "),n("li",[t._v("高频点击提交，表单重复提交")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.bilibili.com/video/BV1Eb4y1f7Qv",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);