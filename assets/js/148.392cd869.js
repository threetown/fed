(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{658:function(e,t,s){"use strict";s.r(t);var n=s(44),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("API conventions:")]),e._v(" "),s("ul",[s("li",[e._v("版本说明："),s("a",{attrs:{href:"https://011.vuejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("v 0.11"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("源码地址："),s("a",{attrs:{href:"https://github.com/vuejs/vue/tree/0.11",target:"_blank",rel:"noopener noreferrer"}},[e._v("v 0.11"),s("OutboundLink")],1)])])]),e._v(" "),s("h2",{attrs:{id:"前置知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置知识"}},[e._v("#")]),e._v(" 前置知识")]),e._v(" "),s("p",[e._v("OOP面向对象编程")]),e._v(" "),s("p",[e._v("工厂函数、原型对象的方式。静态属性和方法、原型属性和方法。")]),e._v(" "),s("p",[e._v("原型链接 prototype chain")]),e._v(" "),s("p",[e._v("hasOwnProperty、defineProperty、instanceof")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("valeu "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'__ob__'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("__ob__ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("instanceof")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Observer")]),e._v("\n")])])]),s("h2",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[e._v("#")]),e._v(" 目录结构")]),e._v(" "),s("p",[e._v("接触任何一种框架，首先需要对 "),s("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#project-structure",target:"_blank",rel:"noopener noreferrer"}},[e._v("目标结构"),s("OutboundLink")],1),e._v(" 进行了解对源码有个大概印象！")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("src\n├── api/                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# api")]),e._v("\n│   ├── child.js              \n│   ├── data.js\n│   ├── dom.js\n│   ├── events.js\n│   ├── global.js\n│   └── lifecycle.js\n├── compiler/                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编译器")]),e._v("\n│   ├── compile.js            \n│   └── transclude.js\n├── directives                "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 指令")]),e._v("\n│   ├── model\n│   │   ├── checkbox.js\n│   │   ├── default.js\n│   │   ├── index.js\n│   │   ├── radio.js\n│   │   └── select.js\n│   ├── attr.js\n│   ├── class.js\n│   ├── cloak.js\n│   ├── component.js\n│   ├── el.js\n│   ├── events.js\n│   ├── html.js\n│   ├── if.js\n│   ├── index.js\n│   ├── on.js\n│   ├── partial.js\n│   ├── ref.js\n│   ├── repeat.js\n│   ├── show.js\n│   ├── style.js\n│   ├── text.js\n│   ├── transition.js\n│   └── with.js\n├── filters                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 过滤器")]),e._v("\n│   ├── array-filters.js\n│   └── index.js\n├── instance                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 实例")]),e._v("\n│   ├── compile.js\n│   ├── events.js\n│   ├── init.js\n│   └── scope.js\n├── observer                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 响应式")]),e._v("\n│   ├── array.js\n│   ├── dep.js\n│   ├── index.js\n│   └── object.js\n├── parsers                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 解析")]),e._v("\n│   ├── directive.js\n│   ├── expression.js\n│   ├── path.js\n│   ├── template.js\n│   └── text.js\n├── transition                "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 过渡")]),e._v("\n│   ├── css.js\n│   ├── index.js\n│   └── js.js\n├── util                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 工具方法")]),e._v("\n│   ├── debug.js\n│   ├── dom.js\n│   ├── env.js\n│   ├── filter.js\n│   ├── index.js\n│   ├── lang.js\n│   └── merge-option.js\n├── batcher.js\n├── cache.js                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 配置")]),e._v("\n├── directive.js\n├── vue.js                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 入口文件")]),e._v("\n└── watcher.js\n")])])]),s("h1",{attrs:{id:"vue-js-contributing-guide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-js-contributing-guide"}},[e._v("#")]),e._v(" Vue.js Contributing Guide")]),e._v(" "),s("p",[e._v("Hi! I'm really excited that you are interested in contributing to Vue.js. Before submitting your contribution, please make sure to take a moment and read through the following guidelines:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/.github/CODE_OF_CONDUCT.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Code of Conduct"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"#issue-reporting-guidelines"}},[e._v("Issue Reporting Guidelines")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#pull-request-guidelines"}},[e._v("Pull Request Guidelines")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#development-setup"}},[e._v("Development Setup")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#project-structure"}},[e._v("Project Structure")])])]),e._v(" "),s("h2",{attrs:{id:"issue-reporting-guidelines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#issue-reporting-guidelines"}},[e._v("#")]),e._v(" Issue Reporting Guidelines")]),e._v(" "),s("ul",[s("li",[e._v("Always use "),s("a",{attrs:{href:"https://new-issue.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://new-issue.vuejs.org/"),s("OutboundLink")],1),e._v(" to create new issues.")])]),e._v(" "),s("h2",{attrs:{id:"pull-request-guidelines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pull-request-guidelines"}},[e._v("#")]),e._v(" Pull Request Guidelines")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("The "),s("code",[e._v("master")]),e._v(" branch is just a snapshot of the latest stable release. All development should be done in dedicated branches. "),s("strong",[e._v("Do not submit PRs against the "),s("code",[e._v("master")]),e._v(" branch.")])])]),e._v(" "),s("li",[s("p",[e._v("Checkout a topic branch from the relevant branch, e.g. "),s("code",[e._v("dev")]),e._v(", and merge back against that branch.")])]),e._v(" "),s("li",[s("p",[e._v("Work in the "),s("code",[e._v("src")]),e._v(" folder and "),s("strong",[e._v("DO NOT")]),e._v(" checkin "),s("code",[e._v("dist")]),e._v(" in the commits.")])]),e._v(" "),s("li",[s("p",[e._v("It's OK to have multiple small commits as you work on the PR - GitHub will automatically squash it before merging.")])]),e._v(" "),s("li",[s("p",[e._v("Make sure "),s("code",[e._v("npm test")]),e._v(" passes. (see "),s("a",{attrs:{href:"#development-setup"}},[e._v("development setup")]),e._v(")")])]),e._v(" "),s("li",[s("p",[e._v("If adding a new feature:")]),e._v(" "),s("ul",[s("li",[e._v("Add accompanying test case.")]),e._v(" "),s("li",[e._v("Provide a convincing reason to add this feature. Ideally, you should open a suggestion issue first and have it approved before working on it.")])])]),e._v(" "),s("li",[s("p",[e._v("If fixing bug:")]),e._v(" "),s("ul",[s("li",[e._v("If you are resolving a special issue, add "),s("code",[e._v("(fix #xxxx[,#xxxx])")]),e._v(" (#xxxx is the issue id) in your PR title for a better release log, e.g. "),s("code",[e._v("update entities encoding/decoding (fix #3899)")]),e._v(".")]),e._v(" "),s("li",[e._v("Provide a detailed description of the bug in the PR. Live demo preferred.")]),e._v(" "),s("li",[e._v("Add appropriate test coverage if applicable.")])])])]),e._v(" "),s("h2",{attrs:{id:"development-setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#development-setup"}},[e._v("#")]),e._v(" Development Setup")]),e._v(" "),s("p",[e._v("You will need "),s("a",{attrs:{href:"http://nodejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),s("OutboundLink")],1),e._v(" "),s("strong",[e._v("version 8+")]),e._v(", "),s("a",{attrs:{href:"http://www.oracle.com/technetwork/java/javase/downloads/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java Runtime Environment"),s("OutboundLink")],1),e._v(" (for running Selenium server during e2e tests) and "),s("a",{attrs:{href:"https://yarnpkg.com/en/docs/install",target:"_blank",rel:"noopener noreferrer"}},[e._v("yarn"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[e._v("After cloning the repo, run:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# install the dependencies of the project")]),e._v("\n")])])]),s("h3",{attrs:{id:"committing-changes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#committing-changes"}},[e._v("#")]),e._v(" Committing Changes")]),e._v(" "),s("p",[e._v("Commit messages should follow the "),s("RouterLink",{attrs:{to:"/vue@0.11/COMMIT_CONVENTION.html"}},[e._v("commit message convention")]),e._v(" so that changelogs can be automatically generated. Commit messages will be automatically validated upon commit. If you are not familiar with the commit message convention, you can use "),s("code",[e._v("npm run commit")]),e._v(" instead of "),s("code",[e._v("git commit")]),e._v(", which provides an interactive CLI for generating proper commit messages.")],1),e._v(" "),s("h3",{attrs:{id:"commonly-used-npm-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commonly-used-npm-scripts"}},[e._v("#")]),e._v(" Commonly used NPM scripts")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# watch and auto re-build dist/vue.js")]),e._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# watch and auto re-run unit tests in Chrome")]),e._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run dev:test\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# build all dist files, including npm packages")]),e._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run the full test suite, including linting/type checking")]),e._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n")])])]),s("p",[e._v("There are some other scripts available in the "),s("code",[e._v("scripts")]),e._v(" section of the "),s("code",[e._v("package.json")]),e._v(" file.")]),e._v(" "),s("p",[e._v("The default test script will do the following: lint with ESLint -> type check with Flow -> unit tests with coverage -> e2e tests. "),s("strong",[e._v("Please make sure to have this pass successfully before submitting a PR.")]),e._v(" Although the same tests will be run against your PR on the CI server, it is better to have it working locally.")]),e._v(" "),s("h2",{attrs:{id:"project-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#project-structure"}},[e._v("#")]),e._v(" Project Structure")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[s("code",[e._v("scripts")])]),e._v(": contains build-related scripts and configuration files. Usually, you don't need to touch them. However, it would be helpful to familiarize yourself with the following files:")]),e._v(" "),s("ul",[s("li",[s("p",[s("code",[e._v("scripts/alias.js")]),e._v(": module import aliases used across all source code and tests.")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("scripts/config.js")]),e._v(": contains the build configurations for all files found in "),s("code",[e._v("dist/")]),e._v(". Check this file if you want to find out the entry source file for a dist file.")])])])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("dist")])]),e._v(": contains built files for distribution. Note this directory is only updated when a release happens; they do not reflect the latest changes in development branches.")]),e._v(" "),s("p",[e._v("See "),s("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/dist/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("dist/README.md"),s("OutboundLink")],1),e._v(" for more details on dist files.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("flow")])]),e._v(": contains type declarations for "),s("a",{attrs:{href:"https://flowtype.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Flow"),s("OutboundLink")],1),e._v(". These declarations are loaded "),s("strong",[e._v("globally")]),e._v(" and you will see them used in type annotations in normal source code.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("packages")])]),e._v(": contains "),s("code",[e._v("vue-server-renderer")]),e._v(" and "),s("code",[e._v("vue-template-compiler")]),e._v(", which are distributed as separate NPM packages. They are automatically generated from the source code and always have the same version with the main "),s("code",[e._v("vue")]),e._v(" package.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("test")])]),e._v(": contains all tests. The unit tests are written with "),s("a",{attrs:{href:"http://jasmine.github.io/2.3/introduction.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jasmine"),s("OutboundLink")],1),e._v(" and run with "),s("a",{attrs:{href:"http://karma-runner.github.io/0.13/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Karma"),s("OutboundLink")],1),e._v(". The e2e tests are written for and run with "),s("a",{attrs:{href:"http://nightwatchjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nightwatch.js"),s("OutboundLink")],1),e._v(".")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("src")])]),e._v(": contains the source code. The codebase is written in ES2015 with "),s("a",{attrs:{href:"https://flowtype.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Flow"),s("OutboundLink")],1),e._v(" type annotations.")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[s("code",[e._v("compiler")])]),e._v(": contains code for the template-to-render-function compiler.")]),e._v(" "),s("p",[e._v("The compiler consists of a parser (converts template strings to element ASTs), an optimizer (detects static trees for vdom render optimization), and a code generator (generate render function code from element ASTs). Note that codegen directly generates code strings from the element AST - it's done this way for smaller code size because the compiler is shipped to the browser in the standalone build.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("core")])]),e._v(": contains universal, platform-agnostic runtime code.")]),e._v(" "),s("p",[e._v("The Vue 2.0 core is platform-agnostic. That is, the code inside "),s("code",[e._v("core")]),e._v(" is able to be run in any JavaScript environment, be it the browser, Node.js, or an embedded JavaScript runtime in native applications.")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[s("code",[e._v("observer")])]),e._v(": contains code related to the reactivity system.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("vdom")])]),e._v(": contains code related to vdom element creation and patching.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("instance")])]),e._v(": contains Vue instance constructor and prototype methods.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("global-api")])]),e._v(": contains Vue global api.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("components")])]),e._v(": contains universal abstract components.")])])])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("server")])]),e._v(": contains code related to server-side rendering.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("platforms")])]),e._v(": contains platform-specific code.")]),e._v(" "),s("p",[e._v("Entry files for dist builds are located in their respective platform directory.")]),e._v(" "),s("p",[e._v("Each platform module contains three parts: "),s("code",[e._v("compiler")]),e._v(", "),s("code",[e._v("runtime")]),e._v(" and "),s("code",[e._v("server")]),e._v(", corresponding to the three directories above. Each part contains platform-specific modules/utilities which are imported and injected to the core counterparts in platform-specific entry files. For example, the code implementing the logic behind "),s("code",[e._v("v-bind:class")]),e._v(" is in "),s("code",[e._v("platforms/web/runtime/modules/class.js")]),e._v(" - which is imported in "),s("code",[e._v("entries/web-runtime.js")]),e._v(" and used to create the browser-specific vdom patching function.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("sfc")])]),e._v(": contains single-file component ("),s("code",[e._v("*.vue")]),e._v(" files) parsing logic. This is used in the "),s("code",[e._v("vue-template-compiler")]),e._v(" package.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("shared")])]),e._v(": contains utilities shared across the entire codebase.")])]),e._v(" "),s("li",[s("p",[s("strong",[s("code",[e._v("types")])]),e._v(": contains TypeScript type definitions")]),e._v(" "),s("ul",[s("li",[s("strong",[s("code",[e._v("test")])]),e._v(": contains type definitions tests")])])])])])]),e._v(" "),s("h2",{attrs:{id:"financial-contribution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#financial-contribution"}},[e._v("#")]),e._v(" Financial Contribution")]),e._v(" "),s("p",[e._v("As a pure community-driven project without major corporate backing, we also welcome financial contributions via GitHub Sponsors and OpenCollective. Please consult the "),s("a",{attrs:{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sponsor Page"),s("OutboundLink")],1),e._v(" for more details.")]),e._v(" "),s("h2",{attrs:{id:"credits"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#credits"}},[e._v("#")]),e._v(" Credits")]),e._v(" "),s("p",[e._v("Thank you to all the people who have already contributed to Vue.js!")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue/graphs/contributors"}},[s("img",{attrs:{src:"https://opencollective.com/vuejs/contributors.svg?width=890"}})])])])}),[],!1,null,null,null);t.default=r.exports}}]);