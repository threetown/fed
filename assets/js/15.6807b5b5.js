(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{427:function(t,s,a){t.exports=a.p+"assets/img/mono_multi_repo.da5dfe73.png"},428:function(t,s,a){t.exports=a.p+"assets/img/lerna-init.98ee60f7.png"},597:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"vue-cli-4-x"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-4-x"}},[t._v("#")]),t._v(" vue-cli@4.x")]),t._v(" "),n("h2",{attrs:{id:"一、准备工作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、准备工作"}},[t._v("#")]),t._v(" 一、准备工作")]),t._v(" "),n("h3",{attrs:{id:"_1-1-monorepo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-monorepo"}},[t._v("#")]),t._v(" 1.1 monorepo")]),t._v(" "),n("ul",[n("li",[t._v("monorepo，是将所有的模块统一的放在一个主干分支之中管理")]),t._v(" "),n("li",[t._v("multirepo，是将项目分化成为多个模块，并针对每一个模块单独的开辟一个repo来进行管理")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(427),alt:"mono_multi_repo.png"}})]),t._v(" "),n("h3",{attrs:{id:"_1-2-lerna"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-lerna"}},[t._v("#")]),t._v(" 1.2 lerna")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://lerna.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("lerna"),n("OutboundLink")],1),t._v("是一个管理多个 npm 模块的工具，优化维护多包的工作流，解决多个包互相依赖，且发布需要手动维护多个包的问题。")]),t._v(" "),n("h4",{attrs:{id:"_1-2-1-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-安装"}},[t._v("#")]),t._v(" 1.2.1 安装")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i lerna -g\n")])])]),n("h4",{attrs:{id:"_1-2-2-初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-初始化"}},[t._v("#")]),t._v(" 1.2.2 初始化")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("lerna init\n")])])]),n("p",[n("img",{attrs:{src:a(428),alt:"lerna init"}})]),t._v(" "),n("p",[t._v("Your repository should now look like this:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("demo/\n  packages/\n  package.json\n  lerna.json\n")])])]),n("table",[n("thead",[n("tr",[n("th",[t._v("命令")]),t._v(" "),n("th",[t._v("功能")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("code",[t._v("lerna bootstrap")])]),t._v(" "),n("td",[t._v("安装依赖")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna clean")])]),t._v(" "),n("td",[t._v("删除各个包下的node_modules")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna init")])]),t._v(" "),n("td",[t._v("创建新的lerna库")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna list")])]),t._v(" "),n("td",[t._v("查看本地包列表")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna changed")])]),t._v(" "),n("td",[t._v("显示自上次 release tag以来有修改的包，选项通 list")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna diff")])]),t._v(" "),n("td",[t._v("显示自上次release tag以来有修改的包的差异，执行 git diff")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna exec")])]),t._v(" "),n("td",[t._v("在每个包目录下执行任意命令")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna run")])]),t._v(" "),n("td",[t._v("执行每个包package.json中的脚本命令")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna add")])]),t._v(" "),n("td",[t._v("添加一个包的版本为各个包的依赖")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna import")])]),t._v(" "),n("td",[t._v("引入package")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna link")])]),t._v(" "),n("td",[t._v("链接互相引用的库")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna create")])]),t._v(" "),n("td",[t._v("新建package")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("lerna publish")])]),t._v(" "),n("td",[t._v("发布")])])])]),t._v(" "),n("h4",{attrs:{id:"_1-2-3-yarn-workspace"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-yarn-workspace"}},[t._v("#")]),t._v(" 1.2.3 yarn workspace")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("yarn workspace")]),t._v(" 允许我们使用 "),n("strong",[t._v("monorepo")]),t._v(" 的形式来管理项目")]),t._v(" "),n("li",[t._v("在安装 "),n("strong",[t._v("node_modules")]),t._v(" 的时候它不会安装到每个子项目的 "),n("strong",[t._v("node_module")]),t._v(" 里面，而是直接安装到要目录下面，这样每个子项目都可以读取到根目录的 "),n("strong",[t._v("node_modules")])]),t._v(" "),n("li",[t._v("整个项目只有根目录下面会有一份 "),n("code",[t._v("yarn.lock")]),t._v(" 文件。子项目也会被 "),n("strong",[t._v("link")]),t._v(" 到 "),n("strong",[t._v("node_modules")]),t._v(" 里面，这样就允许我们可以直接用 "),n("code",[t._v("import")]),t._v(" 导入对应的项目")])]),t._v(" "),n("h5",{attrs:{id:"_1-2-3-1-package-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-1-package-json"}},[t._v("#")]),t._v(" 1.2.3.1 package.json")]),t._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("{\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "name": "root",\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "private": true,\n')])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "workspaces": [\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('    "packages/*"\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("  ],\n")])]),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "devDependencies": {\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('    "lerna": "^4.0.0"\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("  }\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("}\n")])])])])]),n("h5",{attrs:{id:"_1-2-3-2-learn-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-2-learn-json"}},[t._v("#")]),t._v(" 1.2.3.2 learn.json")]),t._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("{\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "packages": [\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('    "packages/*"\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("  ],\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "version": "0.0.0",\n')])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "useWorkspaces": true,\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "npmClient": "yarn"\n')])]),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("}\n")])])])])]),n("h5",{attrs:{id:"_1-2-3-3-添加依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-3-添加依赖"}},[t._v("#")]),t._v(" 1.2.3.3 添加依赖")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("yarnpak")])]),t._v(" "),n("li",[n("code",[t._v("lerna")])])]),t._v(" "),n("p",[t._v("设置加速镜像")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry http://registry.npm.taobao.org\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry http://registry.npm.taobao.org\n")])])]),n("table",[n("thead",[n("tr",[n("th",[t._v("作用")]),t._v(" "),n("th",[t._v("命令")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("查看工作空间信息")]),t._v(" "),n("td",[n("code",[t._v("yarn workspaces info")])])]),t._v(" "),n("tr",[n("td",[t._v("给根目录添加依赖")]),t._v(" "),n("td",[n("code",[t._v("yarn add chalk --ignore-workspace-root-check")])])]),t._v(" "),n("tr",[n("td",[t._v("给某个项目添加依赖")]),t._v(" "),n("td",[n("code",[t._v("yarn workspace create-react-app3 add commander")])])]),t._v(" "),n("tr",[n("td",[t._v("删除所有的node_modules")]),t._v(" "),n("td",[n("code",[t._v("lerna clean")]),t._v(" 等价于 "),n("code",[t._v("yarn workspaces run clean")])])]),t._v(" "),n("tr",[n("td",[t._v("安装和link")]),t._v(" "),n("td",[n("code",[t._v("yarn install")]),t._v(" 等价于 "),n("code",[t._v("learn bootstrap --npm-clinet yarn --use-workspaces")])])]),t._v(" "),n("tr",[n("td",[t._v("重新获取所有的node_modules")]),t._v(" "),n("td",[n("code",[t._v("yarn install --force")])])]),t._v(" "),n("tr",[n("td",[t._v("查看缓存目录")]),t._v(" "),n("td",[n("code",[t._v("yarn cache dir")])])]),t._v(" "),n("tr",[n("td",[t._v("清除本地缓存")]),t._v(" "),n("td",[n("code",[t._v("yarn cache clean")])])])])]),t._v(" "),n("h4",{attrs:{id:"_1-2-4-创建子目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-创建子目录"}},[t._v("#")]),t._v(" 1.2.4 创建子目录")]),t._v(" "),n("div",{staticClass:"language-bahs extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("lerna create leon-cli\nlerna create leon-cli-shared-utils\n")])])]),n("h5",{attrs:{id:"_1-2-4-1-leon-cli"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-1-leon-cli"}},[t._v("#")]),t._v(" 1.2.4.1 leon-cli")]),t._v(" "),n("p",[n("code",[t._v("code packages/leon-cli/package.json")])]),t._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v(' "bin": {\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('   "vue-cli": "bin/leon-cli.js"\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v(" },\n")])])])])]),n("h6",{attrs:{id:"_1-2-4-1-1-bin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-1-1-bin"}},[t._v("#")]),t._v(" 1.2.4.1.1 bin")]),t._v(" "),n("p",[n("code",[t._v("code packages/leon-cli/bin/leon-cli.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("#"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("env node\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello leon cli'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"_1-2-5-创建软链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-5-创建软链接"}},[t._v("#")]),t._v(" 1.2.5 创建软链接")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" packages/leon-cli\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" root -g\nleon-cli\n")])])]),n("h4",{attrs:{id:"_1-2-6-create命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-6-create命令"}},[t._v("#")]),t._v(" 1.2.6 create命令")]),t._v(" "),n("p",[n("code",[t._v("package.json")])]),t._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("{\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "name": "root",\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "private": true,\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "workspaces": [\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('    "packages/*"\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("  ],\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "devDependencies": {\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('    "lerna": "^4.0.0"\n')]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("  },\n")])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('  "scripts": {\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v('    "create": "node ./packages/leon-cli/bin/leon-cli.js create hello"\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("  }\n")])]),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[t._v("}\n")])])])])]),n("h4",{attrs:{id:"_1-2-7-调试命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-7-调试命令"}},[t._v("#")]),t._v(" 1.2.7 调试命令")]),t._v(" "),n("p",[n("code",[t._v(".vscode/launch.json")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"configurations"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"launch"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"leon-cli"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cwd"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${workspaceFolder}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"runtimeExecutable"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npm"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"runtimeArgs"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"run"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"create"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prot"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoAttachChildProcesses"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"stopOnEntry"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"skipFiles"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<node_internals>/**"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-3-安装依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-安装依赖"}},[t._v("#")]),t._v(" 1.3 安装依赖")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("cd packages/leon-cli-shared-utils")])])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" workspace leon-cli-shared-utils "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" chalk execa\n")])])]),n("ul",[n("li",[n("code",[t._v("cd packages/leon-cli")])])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" workspace leon-cli "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" commander inquirer execa chalk ejs globby fs-extra ora isbinaryfile\n")])])]),n("h3",{attrs:{id:"_1-4-lerna-vs-yarn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-lerna-vs-yarn"}},[t._v("#")]),t._v(" 1.4 lerna vs yarn")]),t._v(" "),n("ul",[n("li",[t._v("两者功能等价")]),t._v(" "),n("li",[n("code",[t._v("yarn")]),t._v(" 用来处理依赖，"),n("code",[t._v("lerna")]),t._v(" 用来初始化和发布")])]),t._v(" "),n("h3",{attrs:{id:"_1-5-commander-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-commander-js"}},[t._v("#")]),t._v(" 1.5 commander.js")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/tj/commander.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("commander"),n("OutboundLink")],1),t._v(" 是一款强大的命令行框架，提供了用户命令输入和参数解析功能")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("code packages/leon-cli/bin/leon-cli.js")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("#"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("env node\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" program "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'commander'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nprogram\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../package'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("usage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<command> [options]'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'generate a new project from a template'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list available official templates'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prototype a new project'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'create'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(for v3 warning only)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-6-inquirer-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-inquirer-js"}},[t._v("#")]),t._v(" 1.6 Inquirer.js")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inquirer.js"),n("OutboundLink")],1),t._v(" 是一个交互式命令行工具")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" inquirer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inquirer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninquirer\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Pass your questions in here */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("answers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Use user feedback for... whatever!!")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isTtyError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Prompt couldn't be rendered in the current environment")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Something else went wrong")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-7-execa"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-execa"}},[t._v("#")]),t._v(" 1.7 execa")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/sindresorhus/execa",target:"_blank",rel:"noopener noreferrer"}},[t._v("execa"),n("OutboundLink")],1),t._v(" 是可以调用 shell 和本地外部程序，它会启动子进程执行，是对 "),n("code",[t._v("child_process.exec")]),t._v(" 的封装")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" stdout "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-8-chalk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-chalk"}},[t._v("#")]),t._v(" 1.8 chalk")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/chalk/chalk",target:"_blank",rel:"noopener noreferrer"}},[t._v("chalk"),n("OutboundLink")],1),t._v(" 可以修改控制台字符串的样式，包括字体样式、颜色以及背影颜色等")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" chalk "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chalk'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("blue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-9-ejs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-ejs"}},[t._v("#")]),t._v(" 1.9 ejs")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://github.com/mde/ejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ejs"),n("OutboundLink")],1),t._v(" 是高效的嵌入式 JavaScript 模板引擎")]),t._v(" "),n("p",[n("a",{attrs:{href:""}},[t._v("slash")]),t._v(" 将windows反斜杠路径转换为斜杠路径，如 "),n("code",[t._v("foo\\bar")]),t._v(" -> "),n("code",[t._v("foo/bar")])]),t._v(" "),n("p",[n("a",{attrs:{href:""}},[t._v("globby")]),t._v(" 是用于模式匹配目录文件的")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%=")]),t._v(" user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n\nejs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-10-isbinaryfile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-isbinaryfile"}},[t._v("#")]),t._v(" 1.10 isbinaryfile")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:""}},[t._v("isbinaryfile")]),t._v(" 可以检测一个文件是否是二进制文件")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isBinaryFileSync "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'isbinaryfile'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"_1-11-ora"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-ora"}},[t._v("#")]),t._v(" 1.11 ora")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:""}},[t._v("ora")]),t._v(" 用来实现 node.js 命令环境的 loading 效果和显示各种状态的图标等")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ora "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ora'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spinner "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ora")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"二、核心概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、核心概念"}},[t._v("#")]),t._v(" 二、核心概念")]),t._v(" "),n("h2",{attrs:{id:"三、参数解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、参数解析"}},[t._v("#")]),t._v(" 三、参数解析")]),t._v(" "),n("h2",{attrs:{id:"四、获取预设"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、获取预设"}},[t._v("#")]),t._v(" 四、获取预设")])])}),[],!1,null,null,null);s.default=e.exports}}]);