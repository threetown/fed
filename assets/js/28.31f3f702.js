(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{388:function(s,t,a){s.exports=a.p+"assets/img/nginx_8888.227fa637.png"},563:function(s,t,a){"use strict";a.r(t);var n=a(44),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"mnmp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mnmp"}},[s._v("#")]),s._v(" MNMP")]),s._v(" "),n("blockquote",[n("p",[s._v("MNMP，指的是："),n("strong",[s._v("M")]),s._v("ac + "),n("strong",[s._v("N")]),s._v("ginx + "),n("strong",[s._v("M")]),s._v("ySQL + "),n("strong",[s._v("P")]),s._v("HP。")]),s._v(" "),n("p",[s._v("在Mac系统中，我们推荐使用：brew 安装！如安装过程中遇到问题，请参考 "),n("RouterLink",{attrs:{to:"/MacOS/brew.html"}},[s._v("brew")])],1)]),s._v(" "),n("h2",{attrs:{id:"一、nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、nginx"}},[s._v("#")]),s._v(" 一、Nginx")]),s._v(" "),n("h3",{attrs:{id:"_1-1-安装-nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-安装-nginx"}},[s._v("#")]),s._v(" 1.1 安装 nginx")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("常用命令")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# brew 安装")]),s._v("\nbrew "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动nginx（默认 localhost:8080端口）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新加载|重启|退出")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nginx -s reload"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("reopen"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("quit\n")])])])]),s._v(" "),n("li",[n("p",[s._v("安装")])])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询 nginx")]),s._v("\nbrew search nginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 nginx")]),s._v("\nbrew "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装过程中，会出现如下信息：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/nginx-1.21.1.catalina.bottle.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("######################################################################## 100.0%")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Pouring nginx-1.21.1.catalina.bottle.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Caveats\nDocroot is: /usr/local/var/www\n\nThe default port has been "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /usr/local/etc/nginx/nginx.conf to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" so that\nnginx can run without sudo.\n\nnginx will load all files "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /usr/local/etc/nginx/servers/.\n\nTo have launchd start nginx now and restart at login:\n  brew services start nginx\nOr, "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you don't want/need a background "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" you can just run:\n  nginx\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Summary\n🍺  /usr/local/Cellar/nginx/1.21.1: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" files, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".2MB\n")])])]),n("h3",{attrs:{id:"_1-2-管理nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-管理nginx"}},[s._v("#")]),s._v(" 1.2 管理nginx")]),s._v(" "),n("blockquote",[n("p",[s._v("通过的上面安装信息，可以获取以下信息：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("默认端口号："),n("code",[s._v("8080")])]),s._v(" "),n("p",[n("code",[s._v("The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that nginx can run without sudo.")])]),s._v(" "),n("p",[s._v("我们可以手动修改端口号为 "),n("code",[s._v("8888")]),s._v("：")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("server "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口号")]),s._v("\n    listen       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server_name")]),s._v("\n    server_name  localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),n("li",[n("p",[s._v("加载所有nginx配置：")]),s._v(" "),n("p",[n("code",[s._v("/usr/local/etc/nginx/servers/")])])]),s._v(" "),n("li",[n("p",[s._v("启动nginx")]),s._v(" "),n("p",[n("code",[s._v("brew services start nginx")])])]),s._v(" "),n("li",[n("p",[s._v("后台服务启动nginx")]),s._v(" "),n("p",[n("code",[s._v("nginx")])])])])]),s._v(" "),n("h2",{attrs:{id:"二、mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、mysql"}},[s._v("#")]),s._v(" 二、Mysql")]),s._v(" "),n("blockquote",[n("p",[s._v("Mac地址通过 "),n("code",[s._v("brew")]),s._v(" 安装")])]),s._v(" "),n("h3",{attrs:{id:"_2-1-查询mysql版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-查询mysql版本"}},[s._v("#")]),s._v(" 2.1 查询MySql版本")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询")]),s._v("\nbrew search mysql\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本")]),s._v("\nbrew "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql@5.7\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装成功后提示")]),s._v("\nWe"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ve installed your MySQL database without a root password. To secure it run:\n    mysql_secure_installation\n\nMySQL is configured to only allow connections from localhost by default\n\nTo connect run:\n    mysql -uroot\n\nmysql@5.7 is keg-only, which means it was not symlinked into /usr/local,\nbecause this is an alternate version of another formula.\n\nIf you need to have mysql@5.7 first in your PATH, run:\n  echo '")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/opt/mysql@5.7/bin:'),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("' "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n\nFor compilers to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" mysql@5.7 you may need to set:\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LDFLAGS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-L/usr/local/opt/mysql@5.7/lib"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CPPFLAGS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-I/usr/local/opt/mysql@5.7/include"')]),s._v("\n\n\nTo have launchd start mysql@5.7 now and restart at login:\n  brew services start mysql@5.7\nOr, "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you don't want/need a background "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" you can just run:\n  /usr/local/opt/mysql@5.7/bin/mysql.server start\n")])])]),n("h3",{attrs:{id:"_2-2-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-命令"}},[s._v("#")]),s._v(" 2.2 命令")]),s._v(" "),n("blockquote",[n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("mysql.server  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("start"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("reload"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("force-reload"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("status"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),n("ul",[n("li",[s._v("启动MySQL服务："),n("code",[s._v("mysql.server start")])]),s._v(" "),n("li",[s._v("设置密码："),n("code",[s._v("mysql_secure_installation")])]),s._v(" "),n("li",[s._v("连接MySQL："),n("code",[s._v("mysql -uroot")])])]),s._v(" "),n("h2",{attrs:{id:"三、php"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、php"}},[s._v("#")]),s._v(" 三、PHP")]),s._v(" "),n("blockquote",[n("p",[s._v("MacOS自带了 Apache 和 PHP")]),s._v(" "),n("ul",[n("li",[s._v("查看PHP版本："),n("code",[s._v("php -v 或 php -verseion")])])])]),s._v(" "),n("h3",{attrs:{id:"_3-1-安装-php"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-安装-php"}},[s._v("#")]),s._v(" 3.1 安装 PHP")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询php")]),s._v("\nbrew search php\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本php")]),s._v("\nbrew "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php@7.4\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装成功，提示信息")]),s._v("\nTo "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" PHP "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" Apache "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" the following to httpd.conf and restart Apache:\n    LoadModule php7_module /usr/local/opt/php@7.4/lib/httpd/modules/libphp7.so\n\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("FilesMatch "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(".php$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        SetHandler application/x-httpd-php\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/FilesMatch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\nFinally, check DirectoryIndex includes index.php\n    DirectoryIndex index.php index.html\n\nThe php.ini and php-fpm.ini "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" can be found in:\n    /usr/local/etc/php/7.4/\n\nphp@7.4 is keg-only, "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" means it was not symlinked into /usr/local,\nbecause this is an alternate version of another formula.\n\nIf you need to have php@7.4 first "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" your "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v(", run:\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\"/usr/local/opt/php@7.4/bin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\"'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\"/usr/local/opt/php@7.4/sbin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\"'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n\nFor compilers to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" php@7.4 you may need to set:\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LDFLAGS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-L/usr/local/opt/php@7.4/lib"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CPPFLAGS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-I/usr/local/opt/php@7.4/include"')]),s._v("\n\n\nTo start php@7.4:\n  brew services start php@7.4\nOr, "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you don't want/need a background "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" you can just run:\n  /usr/local/opt/php@7.4/sbin/php-fpm --nodaemonize\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\nThe Tcl/Tk GUIs "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g. gitk, git-gui"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" are now "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("git-gui"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" formula.\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("zsh")]),s._v(" completions and functions have been installed to:\n  /usr/local/share/zsh/site-functions\n\nEmacs Lisp files have been installed to:\n  /usr/local/share/emacs/site-lisp/git\n")])])]),n("h3",{attrs:{id:"_3-2-管理php"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-管理php"}},[s._v("#")]),s._v(" 3.2 管理PHP")]),s._v(" "),n("ul",[n("li",[s._v("启动："),n("code",[s._v("brew services start php@7.4")])])]),s._v(" "),n("h3",{attrs:{id:"_3-3-composer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-composer"}},[s._v("#")]),s._v(" 3.3 composer")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -sS https://getcomposer.org/installer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" php\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" composer.phar /usr/local/bin/composer\n")])])]),n("h3",{attrs:{id:"_3-4-tp6-0"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-tp6-0"}},[s._v("#")]),s._v(" 3.4 TP6.0")]),s._v(" "),n("ul",[n("li",[s._v("php")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ php think make:command Hello hello\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 报错")]),s._v("\n require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vendor/autoload.php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": failed to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" stream\n\n")])])]),n("p",[s._v("What you're missing is running "),n("code",[s._v("composer install")]),s._v(", which will import your packages and create the vendor folder, along with the autoload script.")]),s._v(" "),n("h2",{attrs:{id:"四、apache"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、apache"}},[s._v("#")]),s._v(" 四、Apache")]),s._v(" "),n("p",[s._v("启动、关闭、重启Apache命令如下：")]),s._v(" "),n("ul",[n("li",[s._v("开启： "),n("code",[s._v("sudo apachectl start")])]),s._v(" "),n("li",[s._v("停止： "),n("code",[s._v("sudo apachectl stop")])]),s._v(" "),n("li",[s._v("重启： "),n("code",[s._v("sudo apachectl restart")])]),s._v(" "),n("li",[s._v("查看Apache版本："),n("code",[s._v("httpd -v 或 sudo apachectl -v")])]),s._v(" "),n("li",[s._v("查找Apache执行文件："),n("code",[s._v("which apachectl")])])]),s._v(" "),n("h1",{attrs:{id:"实战"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[s._v("#")]),s._v(" 实战")]),s._v(" "),n("h2",{attrs:{id:"一、开启mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、开启mysql"}},[s._v("#")]),s._v(" 一、开启MySQL")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动MySQL")]),s._v("\n$ mysql.server start\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录mysql，输入user和password")]),s._v("\n$ mysql -u root -p\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有数据库")]),s._v("\n$ show databases"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建数据库")]),s._v("\n$ create database plc_threetowns"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),n("p",[s._v("创建数据库或数据表，建议使用 "),n("code",[s._v("SQLPro Studio")]),s._v("进行可视化管理，效率更高哦！")]),s._v(" "),n("h2",{attrs:{id:"二、开启nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、开启nginx"}},[s._v("#")]),s._v(" 二、开启nginx")]),s._v(" "),n("h3",{attrs:{id:"_1-端口号修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-端口号修改"}},[s._v("#")]),s._v(" 1. 端口号修改")]),s._v(" "),n("p",[s._v("当您通过命令行："),n("code",[s._v("nginx")]),s._v("， 来启动nginx服务时，可能会出现以下信息："),n("code",[s._v("Address already in use")]),s._v("地址已经被使用了。")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ nginx\nnginx: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emerg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8080 failed "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(": Address already "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnginx: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emerg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:80 failed "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(": Address already "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),n("p",[s._v("此时，您可以kill掉相关端口；也可以修改 nginx端口")]),s._v(" "),n("ul",[n("li",[s._v("打开 "),n("code",[s._v("nginx.conf")]),s._v(" 配置")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /usr/local/etc/nginx/nginx.conf\n")])])]),n("ul",[n("li",[s._v("修改端口号")])]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("server {\n")])]),n("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   listen       8080;\n")])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   listen       8888;\n")])]),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   server_name  localhost;\n")]),n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("   \n")])]),s._v("\n")])])]),n("ul",[n("li",[n("p",[s._v("重启nginx")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nginx -s reload"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("reopen"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("quit\n")])])]),n("p",[s._v("此时，可以在浏览器中打开："),n("code",[s._v("http://localhost:8888/")]),s._v("，看到下面信息则nginx启动成功")]),s._v(" "),n("p",[n("img",{attrs:{src:a(388),alt:"nginx"}})])])]),s._v(" "),n("h3",{attrs:{id:"配置-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置-conf"}},[s._v("#")]),s._v(" . 配置 *.conf")]),s._v(" "),n("blockquote",[n("p",[s._v("在 "),n("code",[s._v("nginx.conf")]),s._v(" 配置文件中，我们可以看到  "),n("code",[s._v("include servers/*;")]),s._v(" 表示配置从此处引入的。")])]),s._v(" "),n("p",[s._v("为方便管理，我们把网站nginx配置的引入指向指定目录：")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" include servers/*;\n")])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" include /Users/leon/Home/labs/MNMP/vhost/nginx/*.conf;\n")])])])])]),n("p",[s._v("下面变来配置一个 "),n("code",[s._v("plc.conf")]),s._v(" 的文件。")]),s._v(" "),n("div",{staticClass:"language-nginx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" plc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("labs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htm default"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php default"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htm default"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Users"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("leon"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Home"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("labs"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("other"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("PLC"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tp6"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("public"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SSL-START SSL相关配置，请勿删除或修改下一行带注释的404规则")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#error_page 404/404.html;")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SSL-END")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ERROR-PAGE-START  错误页配置，可以注释、删除或修改")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#error_page 404 /404.html;")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#error_page 502 /502.html;")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ERROR-PAGE-END")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#PHP-INFO-START  PHP引用配置，可以注释或修改")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v(" enable"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("73.")]),s._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#PHP-INFO-END")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#REWRITE-START URL重写规则引用,修改后将导致面板设置的伪静态规则失效")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$request_filename")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rewrite")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#REWRITE-END")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#禁止访问的文件或目录")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ini"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htaccess"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("svn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("project"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("LICENSE"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("README"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#一键申请SSL证书验证目录相关设置")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" \\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("well"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("known"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("allow")]),s._v(" all"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gif"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("jpg"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("jpeg"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("png"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("bmp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("swf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("expires")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("error_log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("null"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("access_log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("null"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("js"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("$\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("expires")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("error_log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("null"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("access_log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("null"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# access_log  /www/wwwlogs/plc.threetowns.cn.log;")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# error_log  /www/wwwlogs/plc.threetowns.cn.error.log;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h3",{attrs:{id:"_2-配置说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置说明"}},[s._v("#")]),s._v(" 2. 配置说明")]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("server_name")]),s._v("：定义域名")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("root")]),s._v("：定义项目根目录（thinkphp6.x需要指向 public 目录）")])]),s._v(" "),n("li",[n("p",[s._v("伪静态规则")]),s._v(" "),n("div",{staticClass:"language-nginx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$request_filename")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rewrite")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])])]),s._v(" "),n("h3",{attrs:{id:"_3-重启nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-重启nginx"}},[s._v("#")]),s._v(" 3. 重启nginx")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\nbrew services start nginx\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" brew services stop nginx\n")])])]),n("h2",{attrs:{id:"_3-配置vhost"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置vhost"}},[s._v("#")]),s._v(" 3. 配置vhost")]),s._v(" "),n("p",[n("strong",[s._v("相关推荐：")])]),s._v(" "),n("ol",[n("li",[s._v("「已损坏、身份不明的开发者、无法检查是否含恶意软件」解决："),n("a",{attrs:{href:"http://www.orsoon.com/news/1087137.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("「不能安装该软件，因为当前无法从软件更新服务器获得」解决："),n("a",{attrs:{href:"http://www.orsoon.com/news/1087098.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("应用运行出现「意外退出」及「崩溃闪退」问题修复方法："),n("a",{attrs:{href:"http://www.orsoon.com/news/860361.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("macOS 最好的应用深度卸载启动项管理工具下载："),n("a",{attrs:{href:"https://mac.orsoon.com/Mac/158771.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("MacOS小助手，常用命令行脚本工具："),n("a",{attrs:{href:"https://mac.orsoon.com/Mac/174262.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("「如何开启任何来源？」解决："),n("a",{attrs:{href:"https://mac.orsoon.com/news/369565.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("SIP关闭方法："),n("a",{attrs:{href:"http://www.orsoon.com/news/334388.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我查看"),n("OutboundLink")],1),s._v(" "),n("a",{attrs:{href:"https://mac.orsoon.com/news/1068815.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("M1点我查看"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("更多精品Mac软件请访问：https://mac.orsoon.com/")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" <Directory />\n")])]),n("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("    AllowOverride none\n")]),n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("    Require all denied\n")])]),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("    Order deny,allow\n")]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v("    Allow from all\n")])]),n("span",{pre:!0,attrs:{class:"token unchanged"}},[n("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(" </Directory>\n")])])])])]),n("p",[s._v("修改目标指向")]),s._v(" "),n("div",{staticClass:"language-diff extra-class"},[n("pre",{pre:!0,attrs:{class:"language-diff"}},[n("code",[n("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(' DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs"\n')]),n("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(' <Directory "/Applications/XAMPP/xamppfiles/htdocs">\n')])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(' DocumentRoot "/Users/leon/Home/labs/MNMP/www"\n')]),n("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token line"}},[s._v(' <Directory "/Users/leon/Home/labs/MNMP/www">\n')])])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);