(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{610:function(e,t,o){"use strict";o.r(t);var v=o(44),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"浏览器中存储数据"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#浏览器中存储数据"}},[e._v("#")]),e._v(" 浏览器中存储数据")]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("ul",[o("li",[e._v("Cookie，docuement.cookie")]),e._v(" "),o("li",[e._v("LocalStorage，sessionStorage")]),e._v(" "),o("li",[e._v("IndexedDB")])])]),e._v(" "),o("p",[e._v("https://zh.javascript.info/data-storage")]),e._v(" "),o("h2",{attrs:{id:"cookie-docuemnt-cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-docuemnt-cookie"}},[e._v("#")]),e._v(" Cookie，docuemnt.cookie")]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("概要")]),e._v(" "),o("p",[e._v("Cookie 是直接存储在浏览器中的一小串数据。它们是 "),o("u",[e._v("HTTP 协议的一部分")]),e._v("，由 "),o("a",{attrs:{href:"https://tools.ietf.org/html/rfc6265",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC 6265"),o("OutboundLink")],1),e._v(" 规范定义。")]),e._v(" "),o("p",[e._v("Cookie 通常是由 Web 服务器使用响应 "),o("code",[e._v("Set-Cookie")]),e._v(" HTTP-header 设置的。然后浏览器使用 "),o("code",[e._v("Cookie")]),e._v(" HTTP-header 将它们自动添加到（几乎）每个对相同域的请求中。")]),e._v(" "),o("p",[e._v("最常见的用处之一就是身份验证：")]),e._v(" "),o("ol",[o("li",[e._v("登录后，服务器在响应中使用 "),o("code",[e._v("Set-Cookie")]),e._v(" HTTP-header 来设置具有唯一“会话标识符（session identifier）”的 cookie。")]),e._v(" "),o("li",[e._v("下次如果请求是由相同域发起的，浏览器会使用 "),o("code",[e._v("Cookie")]),e._v(" HTTP-header 通过网络发送 cookie。")]),e._v(" "),o("li",[e._v("所以服务器知道是谁发起了请求。")])]),e._v(" "),o("p",[e._v("我们还可以使用 "),o("code",[e._v("document.cookie")]),e._v(" 属性从浏览器访问 cookie。")])]),e._v(" "),o("h2",{attrs:{id:"localstorage、sessionstorage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#localstorage、sessionstorage"}},[e._v("#")]),e._v(" LocalStorage、sessionStorage")]),e._v(" "),o("p",[e._v("Web 存储对象 "),o("code",[e._v("localStorage")]),e._v(" 和 "),o("code",[e._v("sessionStorage")]),e._v(" 允许我们在浏览器中保存键/值对。")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("key")]),e._v(" 和 "),o("code",[e._v("value")]),e._v(" 都必须为字符串。")]),e._v(" "),o("li",[e._v("存储大小限制为 5MB+，具体取决于浏览器。")]),e._v(" "),o("li",[e._v("它们不会过期。")]),e._v(" "),o("li",[e._v("数据绑定到源（域/端口/协议）。")])]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",{staticStyle:{"text-align":"left"}},[o("code",[e._v("localStorage")])]),e._v(" "),o("th",{staticStyle:{"text-align":"left"}},[o("code",[e._v("sessionStorage")])])])]),e._v(" "),o("tbody",[o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("在同源的所有标签页和窗口之间共享数据")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("在当前浏览器标签页中可见，包括同源的 iframe")])]),e._v(" "),o("tr",[o("td",{staticStyle:{"text-align":"left"}},[e._v("浏览器重启后数据仍然保留")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"}},[e._v("页面刷新后数据仍然保留（但标签页关闭后数据则不再保留）")])])])]),e._v(" "),o("p",[e._v("API：")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("setItem(key, value)")]),e._v(" —— 存储键/值对。")]),e._v(" "),o("li",[o("code",[e._v("getItem(key)")]),e._v(" —— 按照键获取值。")]),e._v(" "),o("li",[o("code",[e._v("removeItem(key)")]),e._v(" —— 删除键及其对应的值。")]),e._v(" "),o("li",[o("code",[e._v("clear()")]),e._v(" —— 删除所有数据。")]),e._v(" "),o("li",[o("code",[e._v("key(index)")]),e._v(" —— 获取该索引下的键名。")]),e._v(" "),o("li",[o("code",[e._v("length")]),e._v(" —— 存储的内容的长度。")]),e._v(" "),o("li",[e._v("使用 "),o("code",[e._v("Object.keys")]),e._v(" 来获取所有的键。")]),e._v(" "),o("li",[e._v("我们将键作为对象属性来访问，在这种情况下，不会触发 "),o("code",[e._v("storage")]),e._v(" 事件。")])])])}),[],!1,null,null,null);t.default=_.exports}}]);