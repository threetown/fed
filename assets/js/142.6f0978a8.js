(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{649:function(t,s,a){"use strict";a.r(s);var e=a(44),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"day1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day1"}},[t._v("#")]),t._v(" day1")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("今日目标")]),t._v(" "),a("p",[t._v("熟悉整体流程搭建，整理package.json文件")]),t._v(" "),a("p",[a("strong",[t._v("⚠️")]),t._v(" 开始之前，请认真阅读 "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/v2#vue-cli--",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli#README"),a("OutboundLink")],1),t._v(" 和")])]),t._v(" "),a("blockquote",[a("p",[t._v("第一天，以vue-cli v2为基准，下载源码并阅读文档；项目结构；")])]),t._v(" "),a("h3",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),a("ul",[a("li",[t._v("源码下载")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/vuejs/vue-cli.git -b v2 vue-cli@2.x\n")])])]),a("ul",[a("li",[t._v("阅读文档\n"),a("ul",[a("li",[a("p",[t._v("vue-cli指令")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("vue init <template-name> <project-name>")])]),t._v(" "),a("li",[a("code",[t._v("vue list")])])])]),t._v(" "),a("li",[a("p",[t._v("官方模板")]),t._v(" "),a("ul",[a("li",[t._v("必须有 "),a("code",[t._v("template")]),t._v("目标")]),t._v(" "),a("li",[t._v("一些metadata元数据，包含在 "),a("code",[t._v("meta.js")]),t._v("或"),a("code",[t._v("meta.json")]),t._v("文件。可以包含以下字段：\n"),a("ul",[a("li",[a("code",[t._v("prompts")]),t._v("：收集用户选项数据")]),t._v(" "),a("li",[a("code",[t._v("filters")]),t._v("：用于对要渲染的文件进行条件筛选")]),t._v(" "),a("li",[a("code",[t._v("metalsmith")]),t._v("：用于在链中添加自定义metalsmith插件")]),t._v(" "),a("li",[a("code",[t._v("completeMessage")]),t._v("：生成模板时向用户显示的消息。你可以在这里加入自定义说明")]),t._v(" "),a("li",[a("code",[t._v("complete")]),t._v(":在生成模板时，可以使用函数来运行Stuff，而不是使用“completeMessage”。")])])])]),t._v(" "),a("h3",{attrs:{id:"prompts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prompts"}},[t._v("#")]),t._v(" prompts")])])])])]),t._v(" "),a("p",[t._v("元数据文件中的"),a("code",[t._v("prompts")]),t._v("字段，应该是包含用户提示的对象哈希。对于每个条目的"),a("code",[t._v("key")]),t._v("是变量名，值是一个 "),a("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js/#question",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inquirer.js 问题对象"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prompts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"required"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Project name"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("完成所有提示(prompts)后，"),a("code",[t._v("template")]),t._v("中的所有文件都将使用"),a("a",{attrs:{href:"http://handlebarsjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Handlebar"),a("OutboundLink")],1),t._v("进行渲染，并将提示结果作为数据。")]),t._v(" "),a("h3",{attrs:{id:"条件提示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#条件提示"}},[t._v("#")]),t._v(" 条件提示")]),t._v(" "),a("p",[t._v("可以通过添加一个"),a("code",[t._v("when")]),t._v("字段来设置提示条件，该字段应该是一个JavaScript表达式，使用从以前的提示中收集的数据进行计算。例如：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prompts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"confirm"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Use a linter?"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lintConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"when"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Pick a lint config"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"choices"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"standard"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"airbnb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("只有当用户对 "),a("code",[t._v("lint")]),t._v(" 提示回答 "),a("code",[t._v("yes")]),t._v(" 时，才会触发"),a("code",[t._v("lintConfig")]),t._v("提示。")]),t._v(" "),a("h3",{attrs:{id:"预先注册-handlebars助手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预先注册-handlebars助手"}},[t._v("#")]),t._v(" 预先注册 Handlebars助手")]),t._v(" "),a("p",[t._v("两个常用的 Handlebars 助手，"),a("code",[t._v("if_eq")]),t._v("和"),a("code",[t._v("unless_eq")]),t._v("是预先注册的：")]),t._v(" "),a("div",{staticClass:"language-handlebars extra-class"},[a("pre",{pre:!0,attrs:{class:"language-handlebars"}},[a("code",[a("span",{pre:!0,attrs:{class:"token handlebars language-handlebars"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),a("span",{pre:!0,attrs:{class:"token block keyword"}},[t._v("#if_eq")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("lintConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"airbnb"')]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v(";"),a("span",{pre:!0,attrs:{class:"token handlebars language-handlebars"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),a("span",{pre:!0,attrs:{class:"token block keyword"}},[t._v("/if_eq")]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n")])])]),a("h3",{attrs:{id:"自定义handlebars助手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义handlebars助手"}},[t._v("#")]),t._v(" 自定义handlebars助手")]),t._v(" "),a("p",[t._v("您可能希望使用元数据文件中的"),a("code",[t._v("helpers")]),t._v("属性注册其他handlebars助手。对象的键key是helper的名称：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  helpers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("lowercase")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("注册后，可按如下方式使用：")]),t._v(" "),a("div",{staticClass:"language-handlebars extra-class"},[a("pre",{pre:!0,attrs:{class:"language-handlebars"}},[a("code",[a("span",{pre:!0,attrs:{class:"token handlebars language-handlebars"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("lowercase")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n")])])]),a("h3",{attrs:{id:"文件过滤器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件过滤器"}},[t._v("#")]),t._v(" 文件过滤器")]),t._v(" "),a("p",[t._v("在metadata文件中的"),a("code",[t._v("filters")]),t._v("字段应该是一个对象hash包含文件过滤规则。每个")])])}),[],!1,null,null,null);s.default=n.exports}}]);